function HeaderSlider(e){this.p=e,this.oWrapper=document.getElementById("goods-img-box"),this.oDiv=document.querySelector(e),this.oUl=document.querySelector(".header-slider-con"),this.aLi=document.querySelectorAll(".header-slider-item"),this.aTabTitle=document.querySelectorAll(".header-tab-title"),this.aTabLi=document.querySelectorAll(".header-tab-item"),this.oMCommonHeader=document.getElementById("m_common_header"),this.oSiftTab=document.querySelector(".sift-tab"),this.oTabs=document.getElementById("tabs"),this.oTryme=document.querySelector(".tryme"),this.oDownloadApp=document.querySelector(".download-pannel"),this.oBox={startX:0,startY:0,finalX:0,finalY:0,endX:0,endY:0,sliderX:0,moveX:0,tabIndex:0,numTime:0,isMove:!1,startTime:0,moveTime:0,isBottomed:!1,isBtmDetail:null},this.pullLoad=null}function addDateToLocal(e){try{var t=$("#regionData").val();if(""!=t&&"true"==t){var i=new Date;i.setTime(i.getTime()+2592e6),document.cookie="regionAddress="+escape(e)+";expires="+i.toGMTString()+";path=/;domain=.m.jd.com",addJdAddress(e)}}catch(e){}}function addJdAddress(e){try{if(e){var t=new Date;t.setTime(t.getTime()+2592e6);var i=e.split(","),n="";i&&i.length>=3&&(n+=i[0]+"_"+i[1]+"_"+i[2]+"_0");var a="";mitemAddrName&&""!=mitemAddrName?(a=mitemAddrName,mitemAddrName=""):$("#provinceName").val()&&$("#cityName").val()&&$("#countyName").val()&&(a=$("#provinceName").val()+"_"+$("#cityName").val()+"_"+$("#countyName").val()),""!=n&&(document.cookie="mitemAddrId="+n+";expires="+t.toGMTString()+";path=/;domain=.jd.com"),""!=a&&(document.cookie="mitemAddrName="+encodeURIComponent(a)+";expires="+t.toGMTString()+";path=/;domain=.jd.com")}}catch(e){}}function addPresentTime(e){var t=new Date;return t=t.getTime(),-1!=e.indexOf("newtime=")&&(e=e.replace(/(\?|\&)newtime=\d*/,"")),e=e+(-1==e.indexOf("?")?"?":"&")+"newtime="+t}function LoadPage(){}!function(e){"use strict";e.fn.imglazyLoad=function(e){return new t(e)};var t=function(){var t=function(e){this.duration=e.duration?e.duration:this.duration,this.container=e.container?e.container:this.container,this._src=e._src?e._src:this._src,this.rangeH=e.rangeH?e.rangeH:this.rangeH,this.animationName=e.animationName?e.animationName:this.animationName,this.showDelay=e.showDelay?e.showDelay:this.showDelay,this.styleContianer=e.styleContianer?e.styleContianer:this.styleContianer,this.scrollObj=e.scrollObj||this.scrollObj,this.imgcb=e.imgcb?e.imgcb:this.imgcb,this.isChangeSize=e.isChangeSize?e.isChangeSize:this.isChangeSize,this.init()};return t.prototype={scrollObj:window,refreshTimer:null,duration:100,_src:"_src",container:"imgContainer",rangeH:0,animationName:"fade",showDelay:"200",styleContianer:"styleID",imgcb:!1,isChangeSize:"true",belowthefold:function(t){return e(window).scrollTop()-this.rangeH<=e(t).offset().top},abovethetop:function(t){return e(t).offset().top<=e(window).scrollTop()+document.documentElement.clientHeight+this.rangeH},inViewport:function(e){return this.belowthefold(e)&&this.abovethetop(e)},setStyle:function(e,t){for(var i in t)e.style[i]=t[i]},checkIphone:function(){return!!/iphone|ipd|ipod/.test(window.navigator.userAgent.toLowerCase())},addStyle:function(){var e=document.getElementById(this.styleContianer)||document.getElementsByTagName("head")[0],t=document.createElement("style");t.innerHTML+=" @-webkit-keyframes fade { 0%   { opacity: 1; } 100%   { opacity: 0; }} @keyframes fade {  0%   { opacity: 1; }  100%   { opacity: 0; }}",e.appendChild(t)},loading:function(){var t=this,i=[],n=document.getElementById(t.container);i=n?e(n).find("img["+t._src+"]"):e("img["+t._src+"]"),i.each(function(e){var n=i.eq(e);t.inViewport(n)&&t.changSrc(n)})},setImgURL:function(e){var t=this,i=e.attr(""+t._src);if("true"==t.isChangeSize){var n=2*parseInt(e.width()),a=2*parseInt(e.height());i=i.replace(/(s[0-9]{0,4}x[0-9]{0,4}_)?jfs/,"s"+n+"x"+a+"_jfs")}return-1!=i.indexOf(".webp")||t.checkIphone()||(i+=".webp"),i},changSrc:function(e){var t=this,i=e.attr(""+t._src),n=new Image,a=t.setImgURL(e);e.animate({opacity:0},10),n.src=a,n.onload=function(){t.imgcb&&t.imgcb(this,e),e.attr("src",a).removeAttr(""+t._src),e.animate({opacity:1},t.showDelay)},n.onerror=function(){e.attr("src",i).removeAttr(""+t._src),e.animate({opacity:1},t.showDelay)}},init:function(){var t=this;t.loading(),e(this.scrollObj).off("scroll.__lazyload").on("scroll.__lazyload",function(){t.refreshTimer&&(clearTimeout(t.refreshTimer),t.refreshTimer=null),t.refreshTimer=setTimeout(function(){t.loading()},t.duration)})}},t}();e.loadImg={lazyLoad:function(t){return e(document.body).imglazyLoad(t)}}}($),HeaderSlider.prototype={init:function(e){var e=e||{},t=this.aLi,i=this.oDiv,n=(this.oBox,this.oDownloadApp,this);this.setHeightTimer=null,this.clearHeightTimer=null,this.aLiLen=t.length,this.oDivWidth=i.offsetWidth,this.oUserAgent=window.navigator.userAgent;var a=document.querySelectorAll(".jd-header-new-bar")[0];this.oHeaderBarH=a?a.offsetHeight:0,this.defaults={maxBtmY:57,loadProductFn:!1,loadInfoFn:!1,loadAssessFn:!1,itemPullHtml:'<span class="btm-detail-icon btm-down"></span>下拉回到"商品详情"',itemReleaseHtml:'<span class="btm-detail-icon btm-down"></span>释放回到"商品详情"'},HeaderSlider.extend(this.defaults,e);this.isAndroidUnder5=function(){var e=navigator.userAgent,t=e.indexOf("Android");if(t>-1){if(parseFloat(e.slice(t+8))<5)return!0}return!1}(),this.isIphone=-1!=navigator.userAgent.indexOf("iPhone"),this.liInit(),this.bind(),clearInterval(this.setHeightTimer),this.setHeightTimer=setInterval(function(){n.setHeight()},800),clearTimeout(this.clearHeightTimer),this.clearHeightTimer=setTimeout(function(){clearInterval(n.setHeightTimer)},1e4),this.setHoldTopHeight()},liInit:function(){var e=this.aLi,t=this.oDiv,i=this.oUl,n=this.aLiLen,a=document.querySelector(".jd-header");clearTimeout(s);var s=setTimeout(function(){for(var s=document.documentElement.clientWidth,o=document.documentElement.clientHeight,r=0;r<n;r++)e[r].style.width=s+"px",e[r].style.height=o+"px";this.aLiWidth=e[0].offsetWidth;var d=this.aLiWidth*n;i.style.width=d+"px",null!=a&&(a.style.width=s+"px"),t.style.width=s+"px"},300)},bind:function(){var e=this.oDiv,t=this,i=this.oMCommonHeader,n=(this.oUserAgent,document.querySelector("#commentListId")),a="onorientationchange"in window,s=a?"orientationchange":"resize";e.addEventListener("touchstart",this,!1),window.addEventListener(s,this,!1),this.toTop(),this.btmToTopFn(),setTimeout(function(){t.guessSwitch()},300),this.evaluateJump(),n&&this.assessScroll(),null!=i&&(this.clickTab(),this.windowScroll(),this.aShortcutClick(),this.clickAssessTab())},setHeight:function(e){var t=this.aLi,i=this.oUl,n=this.oBox,a=this.oWrapper,s=(this.oHeaderBarH,0),o=document.querySelector(".errPic-wrap"),r=document.querySelector(".hold-div-top").offsetHeight,d=document.querySelector(".hold-div-bottom").offsetHeight,l=document.querySelector(".cart-concern-btm-fixed");if(s=l?l.offsetHeight:0,e)var c=e.target,m=c.getAttribute("value"),u=document.getElementById(m);var h=document.documentElement.clientHeight,f=h-r-d-s;HeaderSlider.hasClass(t[n.tabIndex],"reply-body")||(t[n.tabIndex].style.height="auto",t[n.tabIndex].offsetHeight>f?t[n.tabIndex].style.height=t[n.tabIndex].offsetHeight+"px":(t[n.tabIndex].style.height=f+"px",u&&(u.style.height=f+"px"))),t[n.tabIndex].offsetHeight>f?(i.style.height=t[n.tabIndex].offsetHeight+"px",a.style.height="auto"):(i.style.height=f+"px",a.style.height="auto"),o&&(o.style.minHeight=f+"px")},setHoldTopHeight:function(){var e=document.querySelector(".hold-div-top"),t=document.querySelector(".m_common_new_top");if(null!=t){var i=t.offsetHeight;e.style.height=i+"px"}},handleEvent:function(e){switch(e.type){case"touchstart":this.startHandle(e);break;case"touchmove":this.moveHandle(e);break;case"touchend":this.endHandle(e);break;case"orientationchange":case"resize":this.orientationchangeHandler(e)}},startHandle:function(e){e.stopPropagation();var t=e.targetTouches[0],i=this.oUl,n=this.oDiv,a=this.oBox;a.numTime=0,a.startX=t.pageX,a.startY=t.pageY,a.docScrollTop=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,a.isMove=!1,a.startTime=(new Date).getTime(),a._temp=0,HeaderSlider.setStyle(i,{WebkitTransition:"",transition:""}),n.addEventListener("touchmove",this,!1),n.addEventListener("touchend",this,!1)},moveHandle:function(e){e.stopPropagation();var t,i,n=e.targetTouches[0],a=this.oBox,s=this.oUl,o=this.oDiv,r=this.oWrapper,d=document.documentElement.clientHeight,l=this.defaults.maxBtmY;if(d+$(window).scrollTop()>=o.scrollHeight?a.isBottomed=!0:a.isBottomed=!1,0==a.tabIndex&&a.isBottomed){var c=a.startY-n.pageY;this.isAndroidUnder5&&c>=0&&(e.preventDefault(),a.docScrollTop+=c,window.scroll(0,a.docScrollTop))}if(0==a.tabIndex&&a.isBottomed){var m=Math.abs(n.pageY-a.startY),u=0,h=Math.min(m,l),f=0-h/2+Math.max(0,m-l),p=f;f>0?(p=HeaderSlider.damping(f),a._temp=a._temp?a._temp:m,u=a._temp+p):u=m,this.isAndroidUnder5&&a.startY-n.pageY<0?HeaderSlider.setStyle(r,{transform:"translateY("+u+"px) translateZ(0px)",WebkitTransform:"translateY("+u+"px) translateZ(0px)"}):HeaderSlider.setStyle(r,{transform:"translateY(-"+u+"px) translateZ(0px)",WebkitTransform:"translateY(-"+u+"px) translateZ(0px)"})}a.moveTime=(new Date).getTime(),a.moveTime-a.startTime>=50&&(0===a.numTime&&(a.finalX=n.pageX,a.finalY=n.pageY,t=HeaderSlider.getAngle(a.startX,a.finalX,a.startY,a.finalY),i=HeaderSlider.getSpeed(a.startX,a.finalX,a.startY,a.finalY,50)),a.numTime++,i>=5?(t>=0&&t<=10||t>=170&&t<=190||t>=350&&t<=360)&&(a.isMove=!0):(t>=0&&t<=20||t>=160&&t<=200||t>=340&&t<=360)&&(a.isMove=!0));var g=document.documentElement.clientWidth,v=this.aLiLen;a.isMove&&this.isIphone&&(e.preventDefault(),a.moveX=a.sliderX+(n.pageX-a.startX),a.moveX>0&&(a.moveX=0),a.moveX<-g*(v-1)&&(a.moveX=-g*(v-1)),HeaderSlider.moving(s,a.moveX))},changeDisplay:function(e){2==e?$("#goods-img-box .header-slider-con").addClass("header-slider-dec"):$("#goods-img-box .header-slider-con").removeClass("header-slider-dec")},endHandle:function(e){e.stopPropagation();var t=e.changedTouches[0],i=this.oBox,n=this.oDiv,a=this.aTabTitle,s=this.oDivWidth,o=this.oSiftTab,r=this.oTabs,d=this.oUl,l=this.aLiLen,c=this.oTryme,m=this.oDownloadApp,u=this.oUserAgent,h=this.oMCommonHeader,f=document.documentElement.clientWidth,p=this.oWrapper,g=this,v=document.querySelector("#js-current-product");if(i.numTime=0,i.endX=t.pageX,i.endY=t.pageY,0==i.tabIndex&&i.isBottomed&&i.endY-i.startY<-40?g.btmDetailJump():HeaderSlider.setStyle(p,{transform:"translateY(0px) translateZ(0px)",WebkitTransform:"translateY(0px) translateZ(0px)"}),i.isMove&&i.endX-i.startX<0?Math.abs(i.endX-i.startX)>s/3?(i.tabIndex<l-1&&(i.tabIndex++,document.documentElement.scrollTop=0,document.body.scrollTop=0,c&&u.indexOf("Html5Plus")<0&&(HeaderSlider.getSession("isPanelClose")||(c.style.display="block")),m&&u.indexOf("Html5Plus")<0&&(HeaderSlider.getSession("isPanelClose")||(m.style.display="block"))),g.defaults.loadProductFn&&"function"==typeof g.defaults.loadProductFn&&g.defaults.loadProductFn(i.tabIndex,0),g.defaults.loadInfoFn&&"function"==typeof g.defaults.loadInfoFn&&g.defaults.loadInfoFn(i.tabIndex,1),g.defaults.loadAssessFn&&"function"==typeof g.defaults.loadAssessFn&&g.defaults.loadAssessFn(i.tabIndex,2),i.sliderX=i.sliderX-f,i.sliderX<-f*(l-1)&&(i.tabIndex=l-1,i.sliderX=-f*(l-1)),HeaderSlider.sliding(d,i.sliderX),HeaderSlider.headSwitch(o,i.tabIndex,1),HeaderSlider.headSwitch(r,i.tabIndex,2),HeaderSlider.headSwitch(v,i.tabIndex,2),HeaderSlider.visible(o,i.tabIndex,1),g.HeightTimer(),g.setHoldTopHeight(),g.slideMping(i.tabIndex,"商品")):HeaderSlider.sliding(d,i.sliderX):i.isMove&&i.endX-i.startX>0&&(Math.abs(i.endX-i.startX)>s/3?(i.tabIndex>0&&(i.tabIndex--,document.documentElement.scrollTop=0,document.body.scrollTop=0,c&&u.indexOf("Html5Plus")<0&&(HeaderSlider.getSession("isPanelClose")||(c.style.display="block")),m&&u.indexOf("Html5Plus")<0&&(HeaderSlider.getSession("isPanelClose")||(m.style.display="block"))),g.defaults.loadProductFn&&"function"==typeof g.defaults.loadProductFn&&g.defaults.loadProductFn(i.tabIndex,0),g.defaults.loadInfoFn&&"function"==typeof g.defaults.loadInfoFn&&g.defaults.loadInfoFn(i.tabIndex,1),g.defaults.loadAssessFn&&"function"==typeof g.defaults.loadAssessFn&&g.defaults.loadAssessFn(i.tabIndex,2),i.sliderX=i.sliderX+f,i.sliderX>0&&(i.sliderX=0),HeaderSlider.sliding(d,i.sliderX),HeaderSlider.headSwitch(o,i.tabIndex,1),HeaderSlider.headSwitch(r,i.tabIndex,2),HeaderSlider.headSwitch(v,i.tabIndex,2),HeaderSlider.visible(o,i.tabIndex,1),g.HeightTimer(),g.setHoldTopHeight(),g.slideMping(i.tabIndex,"评价")):HeaderSlider.sliding(d,i.sliderX)),null!=h){for(var y=0;y<a.length;y++)HeaderSlider.removeClass(a[y],"header-tab-selected");HeaderSlider.addClass(a[i.tabIndex],"header-tab-selected"),g.changeDisplay(i.tabIndex)}n.removeEventListener("touchmove",this,!1),n.removeEventListener("touchend",this,!1),2==i.tabIndex?window.removeEventListener("scroll",this,!1):window.addEventListener("scroll",this,!1)},clickTab:function(){for(var e=this.aTabLi,t=this.oBox,i=this,n=0;n<e.length;n++)!function(n){e[n]&&(e[n].onclick=function(){t.tabIndex=n,i.toTopMping(t.tabIndex),i.defaults.loadProductFn&&"function"==typeof i.defaults.loadProductFn&&i.defaults.loadProductFn(t.tabIndex,0),i.defaults.loadInfoFn&&"function"==typeof i.defaults.loadInfoFn&&i.defaults.loadInfoFn(t.tabIndex,1),i.defaults.loadAssessFn&&"function"==typeof i.defaults.loadAssessFn&&i.defaults.loadAssessFn(t.tabIndex,2,0),i.tabSwitch(t.tabIndex)})}(n)},clickDetailTab:function(){for(var e=document.querySelectorAll(".detail"),t=document.querySelectorAll(".tab-lst-a"),i=0;i<t.length;i++)!function(n){t[i].addEventListener("click",function(){for(var i=0;i<e.length;i++)e[i].style.display="none";for(var a=0;a<t.length;a++)t[a].classList.contains("on")&&t[a].classList.remove("on");t[n].classList.add("on");var s=t[n].getAttribute("value");document.getElementById(s).style.display="block"},!1)}(i)},clickAssessTab:function(){var e=this,t=this.oTabs;t&&t.addEventListener("click",function(t){var i=t||event;"p"==(i.srcElemnt||i.target).nodeName.toLowerCase()&&e.HeightTimer()})},tabSwitch:function(e){var t=this.aTabLi,i=this.oBox,n=this.aTabTitle,a=this.oSiftTab,s=this.oTabs,o=this.oUl,r=this.aLi,d=this.oTryme,l=this.oDownloadApp,c=this.oMCommonHeader,m=document.documentElement.clientWidth,u=this.oUserAgent,h=document.querySelector("#js-current-product");if(i.tabIndex=e,null!=c){for(var f=0;f<t.length;f++)HeaderSlider.removeClass(n[f],"header-tab-selected");HeaderSlider.addClass(n[i.tabIndex],"header-tab-selected"),this.changeDisplay(i.tabIndex)}i.sliderX=-i.tabIndex*m,HeaderSlider.sliding(o,i.sliderX),HeaderSlider.headSwitch(a,i.tabIndex,1),HeaderSlider.visible(a,i.tabIndex,1),HeaderSlider.headSwitch(s,i.tabIndex,2),HeaderSlider.headSwitch(h,i.tabIndex,2),this.HeightTimer(),document.documentElement.scrollTop=0,document.body.scrollTop=0,d&&u.indexOf("Html5Plus")<0&&(HeaderSlider.getSession("isPanelClose")||(d.style.display="block")),l&&u.indexOf("Html5Plus")<0&&(HeaderSlider.getSession("isPanelClose")||(l.style.display="block")),this.setHoldTopHeight(),HeaderSlider.hasClass(r[i.tabIndex],"reply-body")?window.removeEventListener("scroll",this,!1):window.addEventListener("scroll",this,!1)},windowScroll:function(){var e=this.oSiftTab,t=this.oBox,i=this.aLi,n=this,a=this.oTryme,s=this.oDownloadApp,o=this.oUserAgent,r=10,d=0,l=document.documentElement.clientHeight,c=document.querySelector(".hold-div-top").offsetHeight,m=document.querySelector(".hold-div-bottom").offsetHeight,u=$(".download-block-right")[0],h=document.getElementById("indexToTop");d=document.querySelector(".cart-concern-btm-fixed")?document.querySelector(".cart-concern-btm-fixed").offsetHeight:0;var f=l-c-m-d;window.addEventListener("scroll",function(d){if(!HeaderSlider.hasClass(i[t.tabIndex],"reply-body"))if(i[t.tabIndex].offsetHeight>f){var c=document.documentElement.scrollTop||document.body.scrollTop;c>=1?(a&&(a.style.display="none"),s&&(s.style.display="none"),c>=r&&(r=c,e&&(e.style.visibility="hidden")),c<r&&(r=c,e&&(e.style.visibility="visible")),n.setHoldTopHeight()):(a&&o.indexOf("Html5Plus")<0&&(HeaderSlider.getSession("isPanelClose")||(a.style.display="block")),s&&o.indexOf("Html5Plus")<0&&(HeaderSlider.getSession("isPanelClose")||t.isBtmDetail||(s.style.display="block")),e&&(e.style.visibility="visible"),n.setHoldTopHeight())}else e&&(e.style.visibility="visible");var c=document.documentElement.scrollTop||document.body.scrollTop;t.isBtmDetail||(c>l?(u&&(u.style.bottom="99px"),h.style.display="block"):(h.style.display="none",u&&(u.style.bottom="57px")))},!1)},assessScroll:function(){var e=this.oTabs,t=this.oBox,i=this,n=this.oTryme,a=this.oDownloadApp,s=this.oUserAgent,o=10,r=document.querySelector(".jd-header-new-bar"),d=document.querySelector("#commentListId");document.querySelector("#js-current-product");if(null!=r)var l=r.offsetTop;d&&(d.addEventListener("scroll",function(){var r=d.scrollTop;if(r>l){if(n&&(n.style.display="none"),a&&(a.style.display="none"),r>=o&&(o=r,e&&(e.style.display="none")),r<o){o=r;var c=document.documentElement.clientHeight-$(".jd-header-new-bar").height()-$(".hold-div-bottom").height()-$(".cart-concern-btm-fixed").height();(parseInt(c)+parseInt(r)+1<d.scrollHeight||d.scrollHeight==d.clientHeight+10)&&HeaderSlider.headSwitch(e,t.tabIndex,2)}i.setHoldTopHeight()}else n&&s.indexOf("Html5Plus")<0&&(HeaderSlider.getSession("isPanelClose")||(n.style.display="block")),a&&s.indexOf("Html5Plus")<0&&(HeaderSlider.getSession("isPanelClose")||(a.style.display="block")),i.setHoldTopHeight()},!1),window.removeEventListener("scroll",this,!1))},sliderJump:function(){var e=this.oBox;e.tabIndex++,this.defaults.loadInfoFn&&"function"==typeof this.defaults.loadInfoFn&&this.defaults.loadInfoFn(e.tabIndex,1),pingClickWithLevel("MProductdetail_PicSlideToDetail","","","",""),this.tabSwitch(e.tabIndex),this.toTopMping(e.tabIndex)},btmDetailJump:function(){var e=this.oWrapper,t=this.oSiftTab,i=this.oBox,n=this.oDiv,a=this.oHeaderBarH,s=document.querySelector(".header-slider-con").offsetHeight,o=document.querySelector(".cart-concern-btm-fixed").offsetHeight,r=document.documentElement.clientHeight,d=document.getElementById("itemProductHead"),l=document.getElementById("itemDetailHead"),c=(document.querySelector(".hold-div-top").offsetHeight,document.querySelector(".hold-div-bottom").offsetHeight),m=document.getElementById("indexToTop"),u=document.getElementById("btmToTop"),h=document.querySelector(".new-wt"),f="",p=this;i.isBtmDetail=!0,n.removeEventListener("touchstart",this,!1),pingClickWithLevel("MProductdetail_PullToDetail","","","",""),HeaderSlider.setStyle(h,{backgroundColor:"#fff"}),itemInfoFlag?(f="",f=$("#goodDetail").html(),setTimeout(function(){$("#btmDetail").html(f),$("#goodDetail").html(""),p.clickDetailTab();var e=document.querySelectorAll(".pro-button-box");if(e.length>0)for(var t=0;t<e.length;t++)e[t].removeEventListener("click",goViewDetail,!1),e[t].addEventListener("click",p.btmDetailBackToTop.bind(p),!1)},200)):productInfoLoad({containerID:"btmDetail",wareId:$("#currentWareId").val(),url:"/ware/detail.json?wareId="+$("#currentWareId").val(),cbfn:function(){var e=document.getElementById("scale-parent2");scale("scale-parent","scale-cont"),e&&scale("scale-parent2","scale-cont2")},goProdBtnCbFn:function(){var e=document.querySelectorAll(".pro-button-box");if(e.length>0)for(var t=0;t<e.length;t++)e[t].removeEventListener("click",goViewDetail,!1),e[t].addEventListener("click",p.btmDetailBackToTop.bind(p),!1)}});var g=document.querySelector(".jd-header-shortcut");if(g)var v=g.offsetHeight;else var v=0;var y=r-o-c-a-v;HeaderSlider.setStyle(e,{transform:"translateY(-"+y+"px) translateZ(0px)",WebkitTransform:"translateY(-"+y+"px) translateZ(0px)",transition:"transform 1s cubic-bezier(0, 0, 0.25, 1) 0ms",WebkitTransition:"transform 1s cubic-bezier(0, 0, 0.25, 1) 0ms"}),setTimeout(function(){HeaderSlider.setStyle(e,{transform:"translateY(-"+s+"px) translateZ(0px)",WebkitTransform:"translateY(-"+s+"px) translateZ(0px)",transition:"none",WebkitTransition:"none",height:r+"px"}),window.scrollTo(0,0),clearInterval(p.setHeightTimer),p.setHeightTimer=setInterval(function(){var i=document.getElementById("btmDetail").offsetHeight;if(t)var n=t.offsetHeight;else var n=0;var s=document.querySelector(".jd-header-shortcut");if(s)var o=s.offsetHeight;else var o=0;var r=i+a+n+c+o;HeaderSlider.setStyle(e,{height:r+"px"})},1e3),clearTimeout(p.clearHeightTimer),p.clearHeightTimer=setTimeout(function(){clearInterval(p.setHeightTimer)},6e4)},1200),d&&(d.style.display="none"),l&&(l.style.display="block"),t&&(t.style.display="block"),m.style.display="none",u.style.display="block";var b=document.querySelectorAll(".tab-lst-a");if(0==i.tabIndex)for(var x=0;x<b.length;x++)!function(e){b[e]&&(b[e].removeEventListener("click",clickRightDetailTab,!1),b[e].addEventListener("click",p.clickBtmDetailTab.bind(p),!1))}(x);null===this.pullLoad&&(this.pullLoad=new PullLoad($("#btmLoading"),{trigger:$("#btmDetail"),elWindow:$(window),maxY:73,lessText:p.defaults.itemPullHtml,greaterText:p.defaults.itemReleaseHtml,onReload:function(){this.origin(),p.btmDetailBack(),pingClickWithLevel("MProductdetail_DragToDetail","","","","")}}))},btmDetailBack:function(){var e=this.oBox,t=this.oSiftTab,i=this.oWrapper,n=this.oDiv,a=this.oHeaderBarH,s=(this.oUserAgent,document.getElementById("btmDetail")),o=document.querySelector(".header-slider-con").offsetHeight,r=document.querySelector(".cart-concern-btm-fixed").offsetHeight,d=document.documentElement.clientHeight,l=document.getElementById("itemProductHead"),c=document.getElementById("itemDetailHead"),m=document.getElementById("btmToTop"),u=document.querySelector(".hold-div-bottom").offsetHeight,h=document.querySelector(".jd-header-shortcut"),f=document.querySelector(".new-wt"),p="",g=this;if(h)var v=h.offsetHeight;else var v=0;s.style.height="auto",clearInterval(this.setHeightTimer),e.isBtmDetail=!1,n.addEventListener("touchstart",this,!1),HeaderSlider.setStyle(f,{backgroundColor:"#f0f2f5"});var y=document.querySelector(".hold-div-top").offsetHeight,b=o+a+u+v,x=b+r-d,w=o-d+r+u+y;n.removeEventListener("touchstart",this,!1),HeaderSlider.setStyle(i,{transform:"translateY(-"+w+"px) translateZ(0px)",WebkitTransform:"translateY(-"+w+"px) translateZ(0px)",transition:"transform 1s cubic-bezier(0, 0, 0.25, 1) 0ms",WebkitTransition:"transform 1s cubic-bezier(0, 0, 0.25, 1) 0ms"}),setTimeout(function(){HeaderSlider.setStyle(i,{transform:"translateY(0px) translateZ(0px)",WebkitTransform:"translateY(0px) translateZ(0px)",transition:"none",WebkitTransition:"none",height:b+"px"}),window.scrollTo(0,x),n.addEventListener("touchstart",g,!1)},1200),t&&(t.style.display="none"),c&&(c.style.display="none"),m.style.display="none",l&&(l.style.display="block"),p=$("#btmDetail").html(),setTimeout(function(){$("#goodDetail").html(p),$("#btmDetail").html(""),g.clickDetailTab(),switchDetailTab(),goProdBtnFn()},200)},btmDetailBackToTop:function(){var e=this.oBox,t=this.oSiftTab,i=this.oWrapper,n=this.oDiv,a=this.oHeaderBarH,s=this.oUserAgent,o=this.oDownloadApp,r=document.getElementById("btmDetail"),d=document.querySelector(".header-slider-con").offsetHeight,l=document.getElementById("itemProductHead"),c=document.getElementById("itemDetailHead"),m=document.getElementById("btmToTop"),u=document.querySelector(".hold-div-bottom").offsetHeight,h=document.querySelector(".jd-header-shortcut"),f=document.querySelector(".new-wt"),p="",g=this;if(h)var v=h.offsetHeight;else var v=0;e.isBtmDetail=!1,r.style.height="auto",window.scrollTo(0,0),clearInterval(this.setHeightTimer),n.addEventListener("touchstart",this,!1),HeaderSlider.setStyle(f,{backgroundColor:"#f0f2f5"});var y=d+a+u+v;HeaderSlider.setStyle(i,{transform:"translateY(0px) translateZ(0px)",WebkitTransform:"translateY(0px) translateZ(0px)",transition:"transform 1s cubic-bezier(0, 0, 0.25, 1) 0ms",WebkitTransition:"transform 1s cubic-bezier(0, 0, 0.25, 1) 0ms",height:y+"px"}),t&&(t.style.display="none"),c&&(c.style.display="none"),m.style.display="none",l&&(l.style.display="block"),o&&s.indexOf("Html5Plus")<0&&(HeaderSlider.getSession("isPanelClose")||(o.style.display="block")),p=$("#btmDetail").html(),setTimeout(function(){$("#goodDetail").html(p),$("#btmDetail").html(""),g.clickDetailTab(),switchDetailTab(),goProdBtnFn(),g.setHoldTopHeight()},200)},clickBtmDetailTab:function(e){var t=this.oSiftTab,i=this.oHeaderBarH,n=this.oWrapper,a=document.getElementById("btmDetail"),s=document.querySelector(".cart-concern-btm-fixed").offsetHeight,o=document.documentElement.clientHeight,r=document.querySelector(".hold-div-top").offsetHeight,d=document.querySelector(".hold-div-bottom").offsetHeight,l=e.target,c=l.getAttribute("value"),m=document.getElementById(c);clearInterval(this.setHeightTimer),a.style.height="auto",window.scrollTo(0,0),this.setHeightTimer=setInterval(function(){var e=a.offsetHeight;if(t)var l=t.offsetHeight;else var l=0;var c=document.querySelector(".jd-header-shortcut");if(c)var u=c.offsetHeight;else var u=0;var h,f=o-r-d-s;e>f?(h=e+i+l+d+u,n.style.height=h+"px"):(a.style.height=f+"px",m.style.height=f+"px",h=f+i+l+d+u,n.style.height=h+"px")},800),clearTimeout(this.clearHeightTimer),this.clearHeightTimer=setTimeout(function(){clearInterval(this.setHeightTimer)},2500)},goBack:function(){var e=this.oBox;e.tabIndex&&0!==e.tabIndex?(e.tabIndex=0,e.sliderX=0,this.tabSwitch(e.tabIndex),this.toTopMping(e.tabIndex)):window.history.go(-1)},guessSwitch:function(){for(var e=document.querySelectorAll(".switch-title"),t=this,i=0;i<e.length;i++)e[i]&&e[i].addEventListener("click",function(){t.HeightTimer()})},evaluateJump:function(){var e,t=this.oBox,i=this,n=document.getElementById("downloadBM");"true"===guideTrafficConfig.commentsShowFlag?(0,e="caseA",guideTrafficConfig.newLimitCommentFlag):(4,e=""),$(".comment-list").on("click",".comment-item-content, .comment-item-info, .comment-item-date",function(){t.tabIndex=2,i.tabSwitch(t.tabIndex),itemPingjiaFlag=!1,i.toTopMping(t.tabIndex),pingClickWithLevel("MProductdetail_OnlyComment","","",$("#currentWareId").val(),"5"),assessListInit({containerID:"tab-wrapper",url:"/newComments/newCommentsDetail.json",tabIndex:0,maxCount:10,cbList:useful,checkParam:$("#commendetailModel").attr("commendetail-data"),evokeType:e,from:"commentNoPic"}),"true"===guideTrafficConfig.commentsShowFlag&&n&&n.style&&(n.style.display="none")}),$("#orderComment").on("click",function(){t.tabIndex=2,i.tabSwitch(t.tabIndex),itemPingjiaFlag=!1,i.toTopMping(t.tabIndex),assessListInit({containerID:"tab-wrapper",url:"/newComments/newCommentsDetail.json",tabIndex:0,maxCount:10,cbList:useful,checkParam:$("#commendetailModel").attr("commendetail-data"),from:"commentWithPicBtn"})}),$("#btnAssess").on("click",function(){t.tabIndex=2,i.tabSwitch(t.tabIndex),itemPingjiaFlag=!1,i.toTopMping(t.tabIndex),assessListInit({containerID:"tab-wrapper",url:"/newComments/newCommentsDetail.json",tabIndex:0,maxCount:10,cbList:useful,checkParam:$("#commendetailModel").attr("commendetail-data"),evokeType:e,from:"btnAssess"}),"true"===guideTrafficConfig.commentsShowFlag&&n&&n.style&&(n.style.display="none")}),$(".detailInfoClick").on("click",function(){t.tabIndex=1,i.defaults.loadInfoFn&&"function"==typeof i.defaults.loadInfoFn&&i.defaults.loadInfoFn(t.tabIndex,1),i.tabSwitch(t.tabIndex),i.toTopMping(t.tabIndex)}),$("#bottomTipFloor").on("click",function(){i.btmDetailJump()}),$("#js-seeMore").on("click",function(){t.tabIndex=2,i.tabSwitch(t.tabIndex),assessListInit({containerID:"tab-wrapper",url:"/newComments/newCommentsDetail.json",tabIndex:0,maxCount:10,cbList:useful,checkParam:$("#commendetailModel").attr("commendetail-data"),evokeType:e,from:"seeMore"})})},aShortcutClick:function(){for(var e,t,i=this.oBox,n=this.oWrapper,a=document.querySelectorAll(".jd-header-icon-shortcut"),s=document.querySelector(".jd-header-shortcut"),o=0,r=this,d=0;d<a.length;d++)a[d]&&a[d].addEventListener("click",function(){$("#m_common_header_shortcut").toggleClass("hide"),r.setHoldTopHeight(),e=n.offsetHeight,0==i.tabIndex&&"boolean"==typeof i.isBtmDetail&&($("#m_common_header_shortcut").hasClass("hide")?(t=e-o,n.style.height=t+"px"):(o=s.offsetHeight,t=e+o,n.style.height=t+"px"))})},orientationchangeHandler:function(){var e=this.oUl,t=this.oBox;this.liInit(),clearTimeout(i);var i=setTimeout(function(){var i=document.documentElement.clientWidth;t.sliderX=-i*t.tabIndex,HeaderSlider.sliding(e,t.sliderX)},300);if(this.HeightTimer(),t.isBtmDetail||1==t.tabIndex)for(var n=document.querySelectorAll(".tab-lst-a"),a=0;a<n.length;a++)if(HeaderSlider.hasClass(n[a],"on")&&("wareInfo"==n[a].getAttribute("value")||"bookContent"==n[a].getAttribute("value"))){var s=document.getElementById("scale-parent2");scale("scale-parent","scale-cont"),s&&scale("scale-parent2","scale-cont2")}},HeightTimer:function(e){var t,i=this.oBox,n=this;t=e||!1,1==i.tabIndex?(clearInterval(this.setHeightTimer),this.setHeightTimer=setInterval(function(){n.setHeight(t)},1e3),clearTimeout(this.clearHeightTimer),this.clearHeightTimer=setTimeout(function(){clearInterval(n.setHeightTimer)},6e4)):(clearInterval(this.setHeightTimer),this.setHeightTimer=setInterval(function(){n.setHeight()},800),clearTimeout(this.clearHeightTimer),this.clearHeightTimer=setTimeout(function(){clearInterval(n.setHeightTimer)},2500))},toTop:function(){var e=document.getElementById("indexToTop"),t=this.oSiftTab,i=this.oTabs,n=this.oBox,a=this.oMCommonHeader,s=$(".download-block-right")[0];e&&e.addEventListener("click",function(){null!=a&&(HeaderSlider.visible(t,n.tabIndex,1),HeaderSlider.headSwitch(i,n.tabIndex,2)),scroll(0,0),e.style.display="none",s&&(s.style.bottom="57px")},!1)},toTopMping:function(e){var t=$("#indexToTop");switch(e){case 0:t.attr("report-eventid","MProductdetail_BackToTop");break;case 1:t.attr("report-eventid","MProductdetail_DetailBackToTop");break;case 2:t.attr("report-eventid","MProductdetail_CommentBackToTop")}},btmToTopFn:function(){var e=document.getElementById("btmToTop"),t=this;e&&e.addEventListener("click",function(){pingClickWithLevel("MProductdetail_TestBBackToTop","","","",""),t.btmDetailBackToTop(),e.style.display="none",t.setHoldTopHeight()},!1)},slideMping:function(e,t){var i=this.oBox;0==e?pingClickWithLevel("MProductdetail_ProductTabSlide","","",$("#currentWareId").val(),"5"):1==e?pingClickWithLevel("MProductdetail_DetailTabSlide",t,"",$("#currentWareId").val(),"5"):2==e&&pingClickWithLevel("MProductdetail_CommentTabSlide","","",$("#currentWareId").val(),"5"),this.toTopMping(i.tabIndex)}},HeaderSlider.extend=function(e,t){for(var i in t)void 0!==t[i]&&(e[i]=t[i])},HeaderSlider.extend(HeaderSlider,{setStyle:function(e,t){for(var i in t)e.style[i]=t[i]},getStyle:function(e,t){return(e.currentStyle||getComputedStyle(e,!1))[t]},hasClass:function(e,t){if(e)return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){HeaderSlider.hasClass(e,t)||(e.className+=" "+t)},removeClass:function(e,t){if(HeaderSlider.hasClass(e,t)){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(i," ")}},sliding:function(e,t){HeaderSlider.setStyle(e,{WebkitTransition:"500ms ease",transition:"500ms ease"}),HeaderSlider.setStyle(e,{WebkitTransform:"translate3d("+t+"px,0,0)",transform:"translate3d("+t+"px,0,0)"})},moving:function(e,t){HeaderSlider.setStyle(e,{transform:"translate3d("+t+"px,0,0)",WebkitTransform:"translate3d("+t+"px,0,0)"})},headSwitch:function(e,t,i){null!=e&&(e.style.display=t==i?"block":"none")},visible:function(e,t,i){null!=e&&(e.style.visibility=t==i?"visible":"hidden")},getAngle:function(e,t,i,n){var a=Math.abs(e-t),s=Math.abs(i-n),o=Math.sqrt(a*a+s*s),r=Math.round(Math.asin(s/o)/Math.PI*180);return t>=e&&n<=i?r=r:t<=e&&n<=i?r=180-r:t<=e&&n>=i?r=180+r:t>=e&&n>=i&&(r=360-r),r},getSpeed:function(e,t,i,n,a){var s=Math.abs(e-t),o=Math.abs(i-n);return Math.sqrt(s*s+o*o)/a},pingClick:function(e,t,i,n){try{if($("#pingUse").val()){var a=new MPing.inputs.Click(e)
;a.event_param=t,a.page_param=n;(new MPing).send(a)}}catch(e){}},pingClickWithLevel:function(e,t,i,n,a){try{if($("#pingUse").val()){var s=new MPing.inputs.Click(e);s.event_param=t,s.page_param=n,s.event_level=a;(new MPing).send(s)}}catch(e){}},getSession:function(e){var t=window.sessionStorage;if(t){var i=t.getItem(e);if(i&&"true"==i)return!0}return!1},setHash:function(e){0==e?window.location.hash="":1==e?window.location.hash="#detail":2==e&&(window.location.hash="#access")},damping:function(e){for(var t=[20,40,60,80,100],i=[.5,.4,.3,.2,.1],n=e,a=t.length;a--;)if(e>t[a]){n=(e-t[a])*i[a];for(var s=a;s>0;s--)n+=(t[s]-t[s-1])*i[s-1];n+=1*t[0];break}return n}});var slide=function(){function e(e){this.elem=e,this.oBox=document.querySelector(e),this.aLi=document.querySelectorAll(e+" [data-ul-child=child]"),this.oUl=document.querySelector(e+" [data-slide-ul=firstUl]"),this.now=0,this.on0ff=!1}var t=function(t){return new e(t)};return e.prototype={init:function(t){var i=this,t=t||{},n=this.aLi;this.defaults={imgSrc:"imgsrc",startIndex:0,loop:!1,smallBtn:!1,number:!1,laseMoveFn:!1,location:!1,preDef:"lnr",autoPlay:!1,autoHeight:!1,preFn:null,lastImgSlider:!1,playTime:6e3,mpingEvent:"",wareId:"",callback:null,verticalCenter:!1,fullScreen:!0,total:0,isBanOneImg:!0,whRatio:1,numberWrapId:null},e.extend(this.defaults,t),i.imgSrc=i.defaults.imgSrc,this.now=this.defaults.startIndex,n.length>0&&(this.initBtn(),this.liInit(),this.bind()),this.defaults.autoPlay&&(this.pause(),this.play())},initBtn:function(){this.aLi=document.querySelectorAll(this.elem+" [data-ul-child=child]");var t=this.aLi;if(this.defaults.callback&&this.defaults.callback(1),this.defaults.smallBtn){this.oSmallBtn=document.querySelector(this.elem+' [data-small-btn="smallbtn"]'),this.oSmallBtn.innerHTML=this.addSmallBtn(),this.btns=document.querySelectorAll(this.elem+' [data-ol-btn="btn"]');for(var i=0;i<this.btns.length;i++)this.btns[i].className="";this.btns[e.getNow(this.now,t.length)].className="active"}this.defaults.number&&(this.slideNub=document.querySelector(this.defaults.numberWrapId+' [data-slide-num="slideNub"]'),this.slideSum=document.querySelector(this.defaults.numberWrapId+' [data-slide-num="slideSum"]'),1==this.aLi.length?this.slideNub.innerHTML=1:this.slideNub.innerHTML=(this.now+1)%this.aLi.length,this.slideSum.innerHTML=this.aLi.length),this.defaults.total=this.aLi.length,2!=this.aLi.length&&3!=this.aLi.length||(this.defaults.loop&&(this.oUl.innerHTML+=this.oUl.innerHTML,this.need=!0),this.aLi=document.querySelectorAll(this.elem+" [data-ul-child=child]"))},bind:function(){var t=this.oBox,i=e._device();i.hasTouch||(t.style.cursor="pointer",t.ondragstart=function(e){return!e});var n="onorientationchange"in window,a=n?"orientationchange":"resize";window.addEventListener(a,this),this.aLi.length<2&&(this.defaults.smallBtn&&(this.oSmallBtn.style.display="none"),this.defaults.isBanOneImg)||(t.addEventListener(i.startEvt,this),window.addEventListener("touchcancel",this),-1!=navigator.userAgent.indexOf("baidubrowser")?(window.addEventListener("focusin",this),window.addEventListener("focusout",this)):(window.addEventListener("blur",this),window.addEventListener("focus",this)))},liInit:function(){var t=this.aLi,i=t.length,n=(this.oUl,this.oBox,320),a=this.now,s=document.documentElement.clientWidth,o=this.defaults.whRatio,r=this;this.defaults.preFn&&this.defaults.preFn();for(var d=0;d<i;d++)e.setStyle(t[d],{WebkitTransition:"all 0ms ease",transition:"all 0ms ease",height:"auto"});if(n=this.defaults.fullScreen?s:this.oBox.offsetWidth,n>=640&&(n=640),this.defaults.autoHeight){if(t[0].style.width=n+"px",t[0]){var l=t[0].getElementsByTagName("img")[0];if(l){var c=new Image;c.onload=function(){o=t[0].offsetWidth/t[0].offsetHeight,r.setWhFn(n,o)},c.src=l.src}}}else this.setWhFn(n,o);if(this.defaults.loop)for(var d=0;d<i;d++)e.setStyle(t[d],{position:"absolute",left:0,top:0}),d==e.getNow(a,i)?(r.loadImg(t[d]),e.setStyle(t[d],{WebkitTransform:"translate3d(0px, 0px, 0px)",transform:"translate3d(0px, 0px, 0px)",zIndex:10})):d==e.getPre(a,i)?e.setStyle(t[d],{WebkitTransform:"translate3d("+-n+"px, 0px, 0px)",transform:"translate3d("+-n+"px, 0px, 0px)",zIndex:10}):d==e.getNext(a,i)?e.setStyle(t[d],{WebkitTransform:"translate3d("+n+"px, 0px, 0px)",transform:"translate3d("+n+"px, 0px, 0px)",zIndex:10}):d==e.getNextNew(a,i)?e.setStyle(t[d],{WebkitTransform:"translate3d("+2*n+"px, 0px, 0px)",transform:"translate3d("+2*n+"px, 0px, 0px)",zIndex:10}):e.setStyle(t[d],{WebkitTransform:"translate3d("+-n+"px, 0px, 0px)",transform:"translate3d("+-n+"px, 0px, 0px)",zIndex:9});else for(var d=0;d<i;d++)e.setStyle(t[d],{WebkitTransform:"translate3d("+a*-n+"px, 0px, 0px)",transform:"translate3d("+a*-n+"px, 0px, 0px)"})},setWhFn:function(e,t){var i=this.aLi,n=i.length,a=this.oUl,s=this.oBox;s.style.width=e+"px",s.style.height=e/t+"px",a.style.width=e*n+"px",a.style.height=e/t+"px";for(var o=0;o<n;o++)i[o].style.width=e+"px",i[o].style.height=e/t+"px"},handleEvent:function(t){var i=e._device();this.oBox;switch(t.type){case i.startEvt:this.defaults.autoPlay&&this.pause(),this.startHandler(t);break;case i.moveEvt:this.defaults.autoPlay&&this.pause(),this.moveHandler(t);break;case i.endEvt:case"touchcancel":this.defaults.autoPlay&&(this.pause(),this.play()),this.endHandler(t);break;case"orientationchange":case"resize":this.orientationchangeHandler();break;case"focus":this.defaults.autoPlay&&(this.pause(),this.play());break;case"blur":this.defaults.autoPlay&&this.pause();break;case"focusin":this.defaults.autoPlay&&(this.pause(),this.play());break;case"focusout":this.defaults.autoPlay&&this.pause()}},startHandler:function(t){this.on0ff=!0;var i=e._device(),n=i.hasTouch,a=this.oBox,s=this.now,o=this.aLi;a.addEventListener(i.moveEvt,this),a.addEventListener(i.endEvt,this),this.downTime=Date.now(),this.downX=n?t.targetTouches[0].pageX:t.clientX-a.offsetLeft,this.downY=n?t.targetTouches[0].pageY:t.clientY-a.offsetTop,this.startT=e.getTranX(o[e.getNow(s,o.length)]),this.startNowT=e.getTranX(o[e.getNow(s,o.length)]),this.startPreT=e.getTranX(o[e.getPre(s,o.length)]),this.startNextT=e.getTranX(o[e.getNext(s,o.length)]),this.startNextN=e.getTranX(o[e.getNextNew(s,o.length)]),e.stopPropagation(t)},moveHandler:function(t){var i=this.oBox,n=e._device();if(this.on0ff){var a=n.hasTouch,s=a?t.targetTouches[0].pageX:t.clientX-i.offsetLeft,o=a?t.targetTouches[0].pageY:t.clientY-i.offsetTop,r=this.aLi,d=r.length,l=this.now,c=r[0].offsetWidth;"all"==this.defaults.preDef&&e.stopDefault(t);for(var m=0;m<d;m++)e.setStyle(r[m],{WebkitTransition:"all 0ms ease",transition:"all 0ms ease"});if(Math.abs(s-this.downX)<Math.abs(o-this.downY))"tnd"==this.defaults.preDef&&"all"!=this.defaults.preDef&&e.stopDefault(t);else if(Math.abs(s-this.downX)>10)if("lnr"==this.defaults.preDef&&"all"!=this.defaults.preDef&&e.stopDefault(t),this.defaults.loop){p=(this.startNowT+s-this.downX).toFixed(4);var u=(this.startPreT+s-this.downX).toFixed(4),h=(this.startNextT+s-this.downX).toFixed(4),f=(this.startNextN+s-this.downX).toFixed(4);e.move(r[e.getNow(l,d)],p,10,this.defaults.fullScreen),e.move(r[e.getPre(l,d)],u,10,this.defaults.fullScreen),e.move(r[e.getNext(l,d)],h,10,this.defaults.fullScreen),e.move(r[e.getNextNew(l,d)],f,10,this.defaults.fullScreen)}else{var p=e.getTranX(r[l]);if(p>0)for(var g=((this.startT+s-this.downX)/3).toFixed(4),m=0;m<d;m++)e.move(r[m],g,10,this.defaults.fullScreen);else if(Math.abs(p)>=Math.abs((d-1)*c)){for(var g=(this.startT+(s-this.downX)/3).toFixed(4),m=0;m<d;m++)e.move(r[m],g,10,this.defaults.fullScreen);if(this.defaults.laseMoveFn&&"function"==typeof this.defaults.laseMoveFn){var v=(g-this.startT).toFixed(4);this.defaults.laseMoveFn(v)}}else for(var g=(this.startT+s-this.downX).toFixed(4),m=0;m<d;m++)e.move(r[m],g,10,this.defaults.fullScreen)}}else i.removeEventListener(n.moveEvt,this),i.removeEventListener(n.endEvt,this);e.stopPropagation(t)},endHandler:function(t){t.stopPropagation(),this.on0ff=!1;var i=Date.now(),n=e._device(),a=n.hasTouch,s=this.oBox,o=a?t.changedTouches[0].pageX:t.clientX-s.offsetLeft,r=a?t.changedTouches[0].pageY:t.clientY-s.offsetTop,d=this.aLi,l=d[0].offsetWidth,c=e.getTranX(d[e.getNow(this.now,d.length)]);return o-this.downX<30&&o-this.downX>=0&&Math.abs(r-this.downY)<30?(this.tab(c,"+="),"click"):o-this.downX>-30&&o-this.downX<=0&&Math.abs(r-this.downY)<30?(this.tab(c,"-="),"click"):Math.abs(r-this.downY)-Math.abs(o-this.downX)>30&&o-this.downX<0?void this.tab(c,"-="):Math.abs(r-this.downY)-Math.abs(o-this.downX)>30&&o-this.downX>0?void this.tab(c,"+="):o<this.downX?this.downX-o>l/3||i-this.downTime<200?(this.now++,this.tab(c,"++"),pingClickWithLevel(this.defaults.mpingEvent,"","",this.defaults.wareId,""),"left"):(this.tab(c,"+="),"stay"):o-this.downX>l/3||i-this.downTime<200?(this.now--,this.tab(c,"--"),pingClickWithLevel(this.defaults.mpingEvent,"","",this.defaults.wareId,""),"right"):(this.tab(c,"-="),"stay")},tab:function(t,i,n){function a(){d.defaults.location&&t<-(o-1)*r-r/5&&d.defaults.lastImgSlider&&"function"==typeof d.defaults.lastImgSlider&&(d.defaults.laseMoveFn(0),d.defaults.lastImgSlider()),s[e.getNow(d.now,o)].removeEventListener("webkitTransitionEnd",a,!1),s[e.getNow(d.now,o)].removeEventListener("transitionend",a,!1)}var s=this.aLi,o=s.length,r=s[0].offsetWidth,d=(this.oBox,e._device(),this),l=this.now;if(!this.defaults.callback||"++"!=i&&"--"!=i||this.defaults.callback((e.getNow(l,o)+1)%this.defaults.total==0?this.defaults.total:(e.getNow(l,o)+1)%this.defaults.total),$(s[e.getNow(d.now,o)]).addClass("active").siblings().removeClass("active"),d.loadImg(s[e.getNow(d.now,o)]),d.loadImg(s[e.getNow(d.now+1,o)]),this.defaults.loop){l<0&&(l=o-1,this.now=o-1);for(var c=0;c<o;c++)if(c==e.getPre(l,o)){var m;switch(i){case"++":m=300;break;case"--":case"+=":m=0;break;case"-=":m=300}e.setStyle(s[e.getPre(l,o)],{WebkitTransform:"translate3d("+-r+"px, 0px, 0px)",transform:"translate3d("+-r+"px, 0px, 0px)",zIndex:10,WebkitTransition:"all "+m+"ms ease",transition:"all "+m+"ms ease"})}else if(c==e.getNow(l,o))e.setStyle(s[e.getNow(l,o)],{WebkitTransform:"translate3d(0px, 0px, 0px)",transform:"translate3d(0px, 0px, 0px)",zIndex:10,WebkitTransition:"all 300ms ease",transition:"all 300ms ease"});else if(c==e.getNext(l,o)){var m=300;switch(i){case"++":m=0;break;case"--":case"+=":m=300;break;case"-=":m=0}e.setStyle(s[e.getNext(l,o)],{WebkitTransform:"translate3d("+r+"px, 0px, 0px)",transform:"translate3d("+r+"px, 0px, 0px)",zIndex:10,WebkitTransition:"all "+m+"ms ease",transition:"all "+m+"ms ease"})}else if(c==e.getNextNew(l,o)){var m;switch(i){case"++":m=0;break;case"--":case"+=":m=300;break;case"-=":m=0}e.setStyle(s[e.getNextNew(l,o)],{WebkitTransform:"translate3d("+2*r+"px, 0px, 0px)",transform:"translate3d("+2*r+"px, 0px, 0px)",zIndex:10,WebkitTransition:"all "+m+"ms ease",transition:"all "+m+"ms ease"})}else e.setStyle(s[c],{WebkitTransform:"translate3d("+2*r+"px, 0px, 0px)",transform:"translate3d("+2*r+"px, 0px, 0px)",zIndex:9,WebkitTransition:"all 0ms ease",transition:"all 0ms ease"})}else{for(var c=0;c<o;c++)e.setStyle(s[c],{WebkitTransition:"all 300ms ease",transition:"all 300ms ease"});l<=0&&(l=0,this.now=0),l>o-1&&(n?(l=0,this.now=0):(l=o-1,this.now=o-1));for(var u=0;u<o;u++)e.setStyle(s[u],{WebkitTransform:"translate3d("+-l*r+"px, 0px, 0px)",transform:"translate3d("+-l*r+"px, 0px, 0px)"})}if(this.defaults.smallBtn){for(var c=0;c<this.btns.length;c++)this.btns[c].className="";this.need?this.btns[e.getNow(l,o/2)].className="active":this.btns[e.getNow(l,o)].className="active"}this.defaults.number&&(this.slideNub.innerHTML=(e.getNow(l,o)+1)%this.defaults.total==0?this.defaults.total:(e.getNow(l,o)+1)%this.defaults.total),s[e.getNow(l,o)].addEventListener("webkitTransitionEnd",a,!1),s[e.getNow(l,o)].addEventListener("transitionend",a,!1)},play:function(){var e=this;e.timer=setInterval(function(){e.now++,e.tab(null,"++",!0)},this.defaults.playTime)},pause:function(){var e=this;clearInterval(e.timer)},orientationchangeHandler:function(){var e=this;setTimeout(function(){e.liInit()},300)},addSmallBtn:function(){for(var e="",t=this.aLi,i=0;i<t.length;i++)i==this.defaults.startIndex?e+='<span class="active" data-ol-btn="btn"></span>':e+='<span data-ol-btn="btn"></span>';return e},checkIphone:function(){return!!/iphone|ipd|ipod/.test(window.navigator.userAgent.toLowerCase())},setImgURL:function(e){var t=this,i=e.attr(""+t.imgSrc),n=2*parseInt(e.width()),a=2*parseInt(e.height());return i=i.replace(/(s[0-9]{0,4}x[0-9]{0,4}_)?jfs/,"s"+n+"x"+a+"_jfs"),-1!=i.indexOf(".webp")||t.checkIphone()||(i+=".webp"),i},changSrc:function(e){var t=this,i=e.attr(""+t.imgSrc),n=new Image,a=t.setImgURL(e);e.css("opacity",0),n.src=a,n.onload=function(){e.attr("src",a).removeAttr(""+t.imgSrc).css("opacity",1)},n.onerror=function(){e.attr("src",i).removeAttr(""+t.imgSrc).css("opacity",1)}},loadImg:function(e){var t=this,i=$(e).find("img");$(e).find("img").attr(""+t.imgSrc)&&t.changSrc(i)},show:function(){this.oBox.style.display="inline-block"},hide:function(){this.oBox.style.display="none"}},e.extend=function(e,t){for(name in t)void 0!==t[name]&&(e[name]=t[name])},e.extend(e,{setStyle:function(e,t){for(name in t)e.style[name]=t[name]},getTranX:function(e){var t=e.style.WebkitTransform||e.style.transform,i=t.indexOf("translate3d(");return parseInt(t.substring(i+12,t.length-13))},_device:function(){return{hasTouch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),startEvt:"touchstart",moveEvt:"touchmove",endEvt:"touchend"}},getNow:function(e,t){return e%t},getPre:function(e,t){if(e%t-1<0)var i=t-1;else var i=e%t-1;return i},getNext:function(e,t){return(e+1)%t},getNextNew:function(e,t){return(e+2)%t},move:function(t,i,n,a){var s=n||null;s&&(t.style.zIndex=s),e.setStyle(t,{WebkitTransform:"translate3d("+i+"px, 0px, 0px)",transform:"translate3d("+i+"px, 0px, 0px)"})},stopDefault:function(e){return e&&e.preventDefault?e.preventDefault():window.event.returnValue=!1,!1},stopPropagation:function(e){e&&e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}}),t}(),slideshow=function(){function e(e){this.p=e,this.oDiv=document.querySelector(e),this.oUl=document.querySelector(e+" .jd-slider-container"),this.aLi=document.querySelectorAll(e+" .jd-slider-item"),this.oBox={startX:0,startY:0,finalX:0,finalY:0,endX:0,endY:0,sliderX:0,sliderDirection:1,moveX:0,abortSlider:!1,numTime:0,isMove:!1,oneWidthNum:0}}var t=function(t){return new e(t)};return e.prototype={init:function(t){var t=t||{};if(this.defaults={lineNum:1,marginValue:0,fullScreen:!1,multiMove:!1,singleMove:!1,isRight:!1,isMove:!1,isSymmetry:!1,wrapperLeft:0,smallBtn:!1,startIndex:0,UlMarRight:0,mpingEvent:null,mpingFn:null},e.extend(this.defaults,t),1!=this.defaults.lineNum&&this.aLi.length<8&&(this.defaults.lineNum=2),this.setItems(),this.bind(),this.defaults.smallBtn){var i=this.oDiv.querySelector(".jd-slider-btnDiv");null!=i&&(i.innerHTML=this.addSmallBtn())}e.sliding(this.oUl,0)},bind:function(){var e=this.oDiv,t="onorientationchange"in window,i=t?"orientationchange":"resize";e.addEventListener("touchstart",this,!1),window.addEventListener(i,this,!1)},setItems:function(){var e=this.oDiv,t=this.aLi,i=this.oUl,n=this.oBox;if(this.oDivWidth=e.offsetWidth,this.oLiWidth=t[0].offsetWidth,this.oLiItemWidth=this.oLiWidth+this.defaults.marginValue,1==this.defaults.lineNum){for(var a=0,s=0;s<t.length;s++)a+=t[s].offsetWidth+this.defaults.marginValue;this.oUlWidth=a+this.defaults.UlMarRight,n.oneWidthNum=t.length}else t.length%this.defaults.lineNum!=0?n.oneWidthNum=parseInt(t.length/this.defaults.lineNum)+1:n.oneWidthNum=t.length/this.defaults.lineNum,this.oUlWidth=this.oLiItemWidth*n.oneWidthNum+this.defaults.UlMarRight;this.defaults.isSymmetry?this.eachScreenNum=parseInt((this.oDivWidth-2*this.defaults.wrapperLeft+this.defaults.marginValue)/this.oLiItemWidth):this.eachScreenNum=parseInt(this.oDivWidth/this.oLiItemWidth),this.eachScreenWidth=this.eachScreenNum*this.oLiItemWidth,i.style.width=this.oUlWidth+"px",this.oUlWidth<=this.oDivWidth&&(n.abortSlider=!0)},handleEvent:function(e){switch(e.type){case"touchstart":this.startHandler(e);break;case"touchmove":this.moveHandler(e);break;case"touchend":this.endHandler(e);break;case"orientationchange":case"resize":this.orientationchangeHandler(e)}},startHandler:function(t){t.stopPropagation();var i=t.targetTouches[0],n=this.oDiv,a=this.oUl,s=this.oBox;s.startX=i.pageX,s.startY=i.pageY,s.numTime=0,s.isMove=!1,s.abortSlider||(e.setStyle(a,{WebkitTransition:"",transition:""}),n.addEventListener("touchmove",this,!1),n.addEventListener("touchend",this,!1))},moveHandler:function(t){t.stopPropagation();var i,n=t.touches[0],a=this.oBox,s=this.oUl,o=(this.aLi,this.oUlWidth),r=this.oDivWidth,d=(document.documentElement.clientWidth,this);a.abortSlider||(0===a.numTime&&(a.finalX=n.pageX,a.finalY=n.pageY,i=e.getAngle(a.startX,a.finalX,a.startY,a.finalY)),a.numTime++,(i>=0&&i<=45||i>=135&&i<=225||i>=315&&i<=360)&&(a.isMove=!0),a.isMove&&(t.preventDefault(),d.defaults.isMove&&(a.moveX=a.sliderX+(a.finalX-a.startX),a.moveX>0&&(a.moveX=0),a.moveX<-(o-r)&&(a.moveX=-(o-r)),e.moving(s,a.moveX))))},endHandler:function(t){t.stopPropagation();var i,n=t.changedTouches[0],a=this.oDiv,s=this.oDivWidth,o=this.oUlWidth,r=this.eachScreenWidth,d=this.oBox,l=this.oUl,c=this.oLiWidth,m=this.oLiItemWidth,u=this,h=0,f=0;if(d.endX=n.pageX,d.endY=n.pageY,!d.abortSlider){if(d.isMove)if(d.sliderDirection=d.endX-d.startX<0?"LEFT":"RIGHT",Math.abs(d.endX-d.startX)<c/3&&e.sliding(l,d.sliderX),d.sliderX>0)d.sliderX=0,e.sliding(l,d.sliderX);else if(d.sliderX<-(o-s))d.sliderX=-(o-s),e.sliding(l,d.sliderX);else{if(u.defaults.fullScreen)"LEFT"==d.sliderDirection?(i=o-s,d.sliderX=i-Math.abs(d.sliderX)<s?-i:d.sliderX-s):d.sliderX=d.sliderX+s>0?0:d.sliderX+s;else if(u.defaults.multiMove)if("LEFT"==d.sliderDirection)if(i=o-r,i-Math.abs(d.sliderX)!=0&&i-Math.abs(d.sliderX)<s&&(u.defaults.isRight=!0),u.defaults.isSymmetry){if(i-Math.abs(d.sliderX)==0)return;d.sliderX=i-Math.abs(d.sliderX)<s?-(o-u.defaults.UlMarRight-s-u.defaults.marginValue):d.sliderX-r}else d.sliderX=i-Math.abs(d.sliderX)<s?-(o-u.defaults.UlMarRight-s):d.sliderX-r;else u.defaults.isRight?(u.defaults.isRight=!1,u.defaults.isSymmetry?d.sliderX=d.sliderX+s>0?0:d.sliderX+2*r-s-u.defaults.marginValue:d.sliderX=d.sliderX+s>0?0:d.sliderX+2*r-s):d.sliderX=d.sliderX+s>0?0:d.sliderX+r;else u.defaults.singleMove&&("LEFT"==d.sliderDirection?(h=Math.abs(d.endX-d.startX),f=parseInt(h/m),h-f*m>=c/3&&(f+=1),i=o-f*m,i-Math.abs(d.sliderX)<s&&(u.defaults.isRight=!0),d.sliderX=i-Math.abs(d.sliderX)<s?-(o-s):d.sliderX-f*m):(h=Math.abs(d.endX-d.startX),f=parseInt(h/m),h-f*m>=c/3&&(f+=1),u.defaults.isRight?(u.defaults.isRight=!1,d.sliderX=d.sliderX+s>0?0:d.sliderX+f*m+r-s):d.sliderX=d.sliderX+s>0?0:d.sliderX+f*m));this.defaults.smallBtn&&this.smallBtnSwitch(),e.sliding(l,d.sliderX),this.defaults.mpingFn&&"function"==typeof this.defaults.mpingFn&&this.defaults.mpingFn(),this.defaults.mpingEvent&&this.pingClick()}a.removeEventListener("touchmove",this,!1),a.removeEventListener("touchend",this,!1)}},orientationchangeHandler:function(){var t=this.oBox,i=this.oUl,n=this,a=window.navigator.userAgent;t.sliderX=0,e.sliding(i,t.sliderX),clearTimeout(s);var s=setTimeout(function(){if(-1!=a.indexOf("OS 8")&&-1!=a.indexOf("Safari")){var e=document.documentElement.clientWidth,t=document.querySelector(".cart-menu-content");t&&(t.style.width=e+"px")}if(n.setItems(),n.defaults.smallBtn){n.oDiv.querySelector(".jd-slider-btnDiv").innerHTML=n.addSmallBtn()}},500)},addSmallBtn:function(){var e="",t=0,i=(this.aLi,this.oBox),n=this.eachScreenNum,a=this.oDivWidth,s=this.oUlWidth;if(this.defaults.fullScreen?t=Math.ceil(s/a):this.defaults.multiMove&&0!==n&&(t=i.oneWidthNum/n),t&&t>1)for(var o=0;o<t;o++)o==this.defaults.startIndex?e+='<span class="active"></span>':e+="<span></span>";return e},smallBtnSwitch:function(){var t=this.oDiv,i=t.querySelectorAll(".jd-slider-btnDiv span"),n=this.oBox,a=this.oLiItemWidth,s=this.oDivWidth,o=this.eachScreenNum,r=0;if(0!==i.length){this.defaults.fullScreen?r=Math.ceil(Math.abs(n.sliderX/s)):this.defaults.multiMove&&(r=Math.ceil(Math.abs(n.sliderX/a)/o));for(var d=0;d<i.length;d++)e.removeClass(i[d],"active");e.addClass(i[r],"active")}},pingClick:function(){try{if($("#pingUse").val()){var e=new MPing.inputs.Click(this.defaults.mpingEvent);this.defaults.mpingEvent&&"MProductdetail_CouponSlide"==this.defaults.mpingEvent&&(e.event_level="5"),e.page_param=$("#currentWareId").val();(new MPing).send(e)}}catch(e){console.log(e)}}},e.extend=function(e,t){for(var i in t)void 0!==t[i]&&(e[i]=t[i])},e.extend(e,{setStyle:function(e,t){for(var i in t)e.style[i]=t[i]},hasClass:function(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(t,i){e.hasClass(t,i)||(t.className+=" "+i)},removeClass:function(t,i){if(e.hasClass(t,i)){var n=new RegExp("(\\s|^)"+i+"(\\s|$)");t.className=t.className.replace(n," ")}},sliding:function(t,i){e.setStyle(t,{WebkitTransition:"500ms ease",transition:"500ms ease"}),e.setStyle(t,{WebkitTransform:"translate3d("+i+"px,0,0)",transform:"translate3d("+i+"px,0,0)"})},moving:function(t,i){e.setStyle(t,{transform:"translate3d("+i+"px,0,0)",WebkitTransform:"translate3d("+i+"px,0,0)"})},getAngle:function(e,t,i,n){var a=Math.abs(e-t),s=Math.abs(i-n),o=Math.sqrt(a*a+s*s),r=Math.round(Math.asin(s/o)/Math.PI*180);return t>=e&&n<=i?r=r:t<=e&&n<=i?r=180-r:t<=e&&n>=i?r=180+r:t>=e&&n>=i&&(r=360-r),r}}),t}();!function(e){"use strict";e.fn.toast=function(e){return new t(this[0],e)};var t=function(){var t=function(t,i){if("string"==typeof t||t instanceof String?this.container=document.getElementById(t):this.container=t,!this.container)return void window.alert("error finding container for toast "+t);"string"!=typeof i&&"number"!=typeof i||(i={message:i}),!1===i.autoClose?i.autoClose=!1:i.autoClose=!0,this.styleType=i.styleType||1,this.width=i.width?i.width:this.width,this.height=i.height?i.height:this.height,this.cls=i.cls?i.cls:"",this.titleName=i.titleName||"",this.message=i.message||"",this.delay=i.delay||this.delay,this.autoClose=i.autoClose,this.autoCloseCb=i.autoCloseCb,this.isMaskClose=i.isMaskClose,this.maxHeight=i.maxHeight?i.maxHeight:this.maxHeight,this.islimitHeight=i.islimitHeight?i.islimitHeight:this.islimitHeight,this.okCallback=i.okCallback?i.okCallback:this.okCallback,this.closeCallback=i.closeCallback?i.closeCallback:this.closeCallback,this.btns=i.btns?i.btns:this.btns,this.listContainer=i.listContainer?i.listContainer:this.listContainer,this.container=e(this.container),0===this.container.find(".mjdToastContainer").length&&this.container.append("<div class='mjdToastContainer'></div>"),this.container=this.container.find(".mjdToastContainer"),this.container.removeClass("tr tb br tl tc bc"),this.show()};return t.prototype={cls:null,titleName:null,message:null,delay:2e3,styleType:1,el:null,container:null,listContainer:null,timer:null,width:0,height:0,autoClose:!0,autoCloseCb:null,isMaskClose:!0,scrollH:"",bodyH:"",maxHeight:0,islimitHeight:!0,btns:{cancelTxt:"取消",okTxt:"提交"},okCallback:function(){},closeCallback:function(){},show:function(){var t=this,i=this.addHtml();this.el=e(i).get(0),this.container.append(this.el);var n=e(t.el);if(null!=t.listContainer){var a=e(t.listContainer);t.bodyH=a.height(),t.scrollH=document.body.scrollTop}t.setPosition(n),t.setEvent(n),1==t.styleType&&(t.islimitHeight=!1),t.islimitHeight&&t.setBody(1),t.autoClose&&(t.timer=setTimeout(function(){t.hide(),"function"==typeof t.autoCloseCb&&t.autoCloseCb()},this.delay))},setEvent:function(t){var i=this;switch(i.styleType){case 1:i.isMaskClose&&t.bind("click",function(){i.hide()});break;case 2:e(".btn-close").bind("click",function(){i.closeCallback(),i.hide()}),e(".btn-sure").bind("click",function(){i.okCallback(),i.hide()});break;case 3:i.isMaskClose&&e(".cover-floor").bind("click",function(){i.hide()}),e(".btn-cancel").bind("click",function(){i.closeCallback(),i.hide()}),e(".btn-ok").bind("click",function(){i.okCallback(),i.hide()});break;case 4:e(".one-btn-tip-btn").bind("click",function(){i.hide()})}},setPosition:function(e){var t=this,i=e.find(".content-box");t.width>0?i.css("width",t.width):t.width=i.css("width").replace("px",""),t.height<=0&&(t.height=i.css("height").replace("px","")),i.css("marginLeft",-t.width/2),i.css("marginTop",-t.height/2),e.find(".txt-max-height").css({maxHeight:t.maxHeight,overflowX:"hidden",overflowY:"auto"})},setBody:function(t){var i=this,n=document.documentElement.clientHeight,a=e(i.listContainer);1==t?a.css({height:n,overflow:"hidden"}):2==t&&(a.css({height:i.bodyH,overflow:""}),document.body.scrollTop=i.scrollH)},hide:function(){var e=this;e.islimitHeight&&e.setBody(2),null!=e.timer&&clearTimeout(e.timer),e.remove()},remove:function(){e(this.el).remove()},addHtml:function(){var e=this,t="";switch(e.styleType){case 1:t='<div class="shade-floor">',t+='<div class="message-box content-box">',t+='<div class="message-box-icon"><i class="message-icon '+e.cls+'"></i></div>',t+='<div class="message-box-content txt-align">'+e.message+"</div>",t+="</div>",t+="</div>";break;case 2:t='<div class="shade-floor">',t+='<div class="cover-floor"></div>',t+='<div class="choose-box content-box">',t+='<div class="choose-box-title">'+e.titleName+"</div>",t+='<div class="message-div">',t+='<div class="message-txt">'+e.message+"</div>",t+='</div><div class="choose-box-btn">',t+='<a class="btn-close">'+e.btns.cancelTxt+"</a>",t+='<a class="btn-sure">'+e.btns.okTxt+"</a>",t+="</div></div></div>";break;case 3:t+='<div class="shade-floor" id="pop-modal">',t+='<div class="cover-floor"></div>',t+=' <div class="info-box content-box">',t+=' <div class="info-box-content bdb-1px">',t+=' <span class="info-box-text">'+e.message+"</span>",t+=' </div><div class="box-container"><div class="btn-box">',t+=' <a class="btn-box-item"><i class="btn-cancel">'+e.btns.cancelTxt+"</i></a>",t+=' <a  class="btn-box-item"><i class="btn-ok">'+e.btns.okTxt+"</i></a>",t+=" </div></div></div></div>";break;case 4:t+='<div class="shade-floor" id="popModalOneBtn" style="visibility:visible;">',t+='<div class="cover-floor"></div>',t+=' <div class="content-box one-btn-tip-box-tip">',t+='   <div class="one-btn-tip-info">',t+='     <span class="txt-max-height">'+e.message+"</span>",t+="   </div>",t+='   <div class="one-btn-tip-btn">'+e.btns.closeTxt+"</div>",t+=" </div></div>"}return t}},t}();e.toast=function(t){e(document.body).toast(t)}}($),function(e){var t=e.jdM=e.jdM||{};localStorageUtil=function(){function e(e){return s&&e&&(rss=window.localStorage.getItem(e)),rss}function t(e,t){if(s&&e)try{window.localStorage[e]=t}catch(e){console.log("error"),s=!1}}function i(e){s&&e&&window.localStorage.removeItem(e)}function a(){s&&n.each(window.localStorage,function(e,t,i,n){window.localStorage.removeItem(i)})}var s=!!window.localStorage;return{get:e,set:t,remove:i,removeAll:a}},sessionStorageUtil=function(){function e(e){return s&&e&&(rss=window.sessionStorage.getItem(e)),rss}function t(e,t){if(s&&e)try{window.sessionStorage[e]=t}catch(e){console.log("error"),s=!1}}function i(e){s&&e&&window.sessionStorage.removeItem(e)}function a(){s&&n.each(window.sessionStorage,function(e,t,i,n){window.sessionStorage.removeItem(i)})}var s=!!window.sessionStorage;return{get:e,set:t,remove:i,removeAll:a}};var i={toString:function(e,t){var i=void 0,n=e.getFullYear(),a=e.getMonth()+1,s=e.getDate(),o=e.getHours(),r=e.getMinutes(),d=e.getSeconds();return a=parseInt(a)<10?"0"+a:a,s=parseInt(s)<10?"0"+s:s,o=parseInt(o)<10?"0"+o:o,r=parseInt(r)<10?"0"+r:r,d=parseInt(d)<10?"0"+d:d,"yyyy-MM-dd HH:mm:ss"==t?i=n+"-"+a+"-"+s+" "+o+":"+r+":"+d:"yyyy-MM-dd"==t?i=n+"-"+a+"-"+s:"yyyy-MM"==t?i=n+"-"+a:"yyyy"==t&&(i=n),i},toDate:function(e){if(19==e.length){var t=e.substring(0,4),i=e.substring(5,7),n=e.substring(8,10),a=e.substring(11,13),s=e.substring(14,16),o=e.substring(17,19);return new Date(t,i-1,n,a,s,o)}if(10==e.length){var t=e.substring(0,4),i=e.substring(5,7),n=e.substring(8,10);return new Date(t,i-1,n)}if(7==e.length){var t=e.substring(0,4),i=e.substring(5,7);return new Date(t,i-1)}if(4==e.length){var t=e.substring(0,4);return new Date(t)}},getMonthDays:function(e,t){var i=new Array(31,28,31,30,31,30,31,31,30,31,30,31),n=e.getFullYear();return void 0===t&&(t=e.getMonth()),0!=n%4||0==n%100&&0!=n%400||1!=t?i[t]:29},addDays:function(e,t){var n=1==arguments.length?i.toDate(i.today()):i.toDate(t);return n=new Date(n.getTime()+24*parseInt(e)*3600*1e3),i.toString(new Date(n),"yyyy-MM-dd HH:mm:ss")},addMonths:function(e,t){var n=1==arguments.length?i.toDate(i.today()):i.toDate(t),a=(n.getMonth(),n.getDate()),s=i.getMonthDays(n,n.getMonth()+parseInt(e));return a>s&&n.setDate(s),n.setMonth(n.getMonth()+parseInt(e)),i.toString(n,"yyyy-MM-dd HH:mm:ss")},addMonthsForStart:function(e,t){var n=1==arguments.length?i.today():t;return n=i.addMonths(e,n),i.firstDayOfMonth(n)},addMonthsForEnd:function(e,t){var n=1==arguments.length?i.today():t;return n=i.addMonths(e,n),i.addDays(-1,i.firstDayOfMonth(n))},addYears:function(e,t){var n=1==arguments.length?i.toDate(i.today()):i.toDate(t);return n.setYear(n.getYear()+parseInt(e)),i.toString(n,"yyyy-MM-dd HH:mm:ss")},addYearsForStart:function(e,t){var n=1==arguments.length?i.today():t;return n=i.addYears(e,n),i.firstDayOfYear(n)},addYearsForEnd:function(e,t){var n=1==arguments.length?i.today():t;return n=i.addYears(e,n),i.firstDayOfYear(n)},sunOfWeek:function(e){var t=0==arguments.length?i.toDate(i.today()):i.toDate(e);return t=new Date(t-864e5*t.getDay()),i.toString(t,"yyyy-MM-dd HH:mm:ss")},monOfWeek:function(e){var t=0==arguments.length?i.toDate(i.today()):i.toDate(e);return t=new Date(t-864e5*(t.getDay()-1)),i.toString(t,"yyyy-MM-dd HH:mm:ss")},tueOfWeek:function(e){var t=0==arguments.length?i.toDate(i.today()):i.toDate(e);return t=new Date(t-864e5*(t.getDay()-2)),i.toString(t,"yyyy-MM-dd HH:mm:ss")},wedOfWeek:function(e){var t=0==arguments.length?i.toDate(i.today()):i.toDate(e);return t=new Date(t-864e5*(t.getDay()-3)),i.toString(t,"yyyy-MM-dd HH:mm:ss")},turOfWeek:function(e){var t=0==arguments.length?i.toDate(i.today()):i.toDate(e);return t=new Date(t-864e5*(t.getDay()-4)),i.toString(t,"yyyy-MM-dd HH:mm:ss")},friOfWeek:function(e){var t=0==arguments.length?i.toDate(i.today()):i.toDate(e);return t=new Date(t-864e5*(t.getDay()-5)),i.toString(t,"yyyy-MM-dd HH:mm:ss")},satOfWeek:function(e){var t=0==arguments.length?i.toDate(i.today()):i.toDate(e);return t=new Date(t-864e5*(t.getDay()-6)),i.toString(t,"yyyy-MM-dd HH:mm:ss")},firstDayOfMonth:function(e){var t=0==arguments.length?i.toDate(i.today()):i.toDate(e);return t.setDate(1),i.toString(t,"yyyy-MM-dd HH:mm:ss")},lastDayOfMonth:function(e){return e=0==arguments.length?i.today():e,e=i.addMonths(1,e),e=i.firstDayOfMonth(e),e=i.addDays(-1,e)},firstDayOfYear:function(e){var t=0==arguments.length?i.toDate(i.today()):i.toDate(e);return t.setMonth(0),t.setDate(1),i.toString(t,"yyyy-MM-dd HH:mm:ss")},lastDayOfYear:function(e){var t=0==arguments.length?i.toDate(i.today()):i.toDate(e);return t.setMonth(11),t.setDate(31),i.toString(t,"yyyy-MM-dd HH:mm:ss")},today:function(e){return 0==arguments.length?i.toString(new Date,"yyyy-MM-dd"):i.toString(new Date,e)}},n={$mObj:{},merge:function(e,t,i){if(!e||!t||"object"!=typeof t)return e;if(i){var a,s;for(a in t)t.hasOwnProperty(a)&&(s=t[a],s&&s.constructor===Object&&e[a]&&e[a].constructor===Object?n.merge(e[a],s):e[a]=s)}else for(var o in t)e[o]=t[o];return e},clone:function(e,t){return n.merge({},e,t)},namespace:function(){var t,i,a,s,o,r,d=e;for(a=0,o=arguments.length;a<o;a++){var l=arguments[a];if(!n.$mObj.namespace[l]){for(t=l.split("."),s=0,r=t.length;s<r;s++)i=t[s],d[i]||(d[i]={}),d=d[i];n.$mObj.namespace[l]=!0}}},extend:function(){var e=function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t])};return function(t,i){"function"==typeof t||(t=function(){});var n=function(){t.apply(this,arguments)},a=function(){};return a.prototype=t.prototype,
n.prototype=new a,n.prototype.constructor=n,n.superclass=t.prototype,t.prototype.constructor===Object.prototype.constructor&&(t.prototype.constructor=t),n.override=function(e){if(n.prototype&&e&&"object"==typeof e)for(var t in e)n.prototype[t]=e[t]},n.prototype.override=e,n.override(i),n}}(),each:function(e,t,i){if(!n.isEmpty(e)&&t)if(n.isArray(e))for(var a=0,s=e.length;a<s;a++)try{if(!1===t.call(i,e[a],a,e))return}catch(e){M.log(e,"error")}else for(var o in e)if(e.hasOwnProperty(o))try{if(!1===t.call(i,e[o],o,e))return}catch(e){M.log(e,"error")}},contains:function(e,t){if(n.isArray(e)){if("indexOf"in Array.prototype)return-1!==e.indexOf(t);var i,a;for(i=0,a=e.length;i<a;i++)if(e[i]===t)return!0;return!1}return!n.isEmpty(e)&&t in e},isEmpty:function(e,t){if(void 0===e||null===e||!t&&""===e||n.isArray(e)&&0===e.length)return!0;if(n.isObject(e)){for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i))return!1;return!0}return!1},isBlank:function(e){return!!n.isEmpty(e)||n.isEmpty(String(e).replace(/^\s+|\s+$/g,""))},isDefined:function(e){return void 0===e},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(null)?null!==e&&void 0!==e&&"[object Object]"===Object.prototype.toString.call(e)&&void 0===e.ownerDocument:"[object Object]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.apply(e)},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},isDate:function(e){return"[object Date]"===Object.prototype.toString.apply(e)},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isString:function(e){return"string"==typeof e},isBoolean:function(e){return"boolean"==typeof e}};t.localstorage=new localStorageUtil,t.sessionstorage=new sessionStorageUtil,t.date=i,t.object=n}(window);var regionLevels={region:[{addressList:[{id:"1",name:"北京"},{id:"2",name:"上海"},{id:"3",name:"天津"},{id:"4",name:"重庆"},{id:"5",name:"河北"},{id:"6",name:"山西"},{id:"7",name:"河南"},{id:"8",name:"辽宁"},{id:"9",name:"吉林"},{id:"10",name:"黑龙江"},{id:"11",name:"内蒙古"},{id:"12",name:"江苏"},{id:"13",name:"山东"},{id:"14",name:"安徽"},{id:"15",name:"浙江"},{id:"16",name:"福建"},{id:"17",name:"湖北"},{id:"18",name:"湖南"},{id:"19",name:"广东"},{id:"20",name:"广西"},{id:"21",name:"江西"},{id:"22",name:"四川"},{id:"23",name:"海南"},{id:"24",name:"贵州"},{id:"25",name:"云南"},{id:"26",name:"西藏"},{id:"27",name:"陕西"},{id:"28",name:"甘肃"},{id:"29",name:"青海"},{id:"30",name:"宁夏"},{id:"31",name:"新疆"},{id:"32",name:"台湾"},{id:"52993",name:"港澳"},{id:"84",name:"钓鱼岛"}]},{addressList:[{id:"72",name:"朝阳区"},{id:"2800",name:"海淀区"},{id:"2801",name:"西城区"},{id:"2802",name:"东城区"},{id:"2803",name:"崇文区"},{id:"2804",name:"宣武区"},{id:"2805",name:"丰台区"},{id:"2806",name:"石景山区"},{id:"2807",name:"门头沟"},{id:"2808",name:"房山区"},{id:"2809",name:"通州区"},{id:"2810",name:"大兴区"},{id:"2812",name:"顺义区"},{id:"2814",name:"怀柔区"},{id:"2816",name:"密云区"},{id:"2901",name:"昌平区"},{id:"2953",name:"平谷区"},{id:"3065",name:"延庆县"}]},{addressList:[{id:"78",name:"黄浦区"},{id:"2813",name:"徐汇区"},{id:"2815",name:"长宁区"},{id:"2817",name:"静安区"},{id:"2820",name:"闸北区"},{id:"2822",name:"虹口区"},{id:"2823",name:"杨浦区"},{id:"2824",name:"宝山区"},{id:"2825",name:"闵行区"},{id:"2826",name:"嘉定区"},{id:"2830",name:"浦东新区"},{id:"2833",name:"青浦区"},{id:"2834",name:"松江区"},{id:"2835",name:"金山区"},{id:"2837",name:"奉贤区"},{id:"2841",name:"普陀区"},{id:"2919",name:"崇明县"}]},{addressList:[{id:"51035",name:"东丽区"},{id:"51036",name:"和平区"},{id:"51037",name:"河北区"},{id:"51038",name:"河东区"},{id:"51039",name:"河西区"},{id:"51040",name:"红桥区"},{id:"51041",name:"蓟县"},{id:"51042",name:"静海县"},{id:"51043",name:"南开区"},{id:"51044",name:"塘沽区"},{id:"51045",name:"西青区"},{id:"51046",name:"武清区"},{id:"51047",name:"津南区"},{id:"51048",name:"汉沽区"},{id:"51049",name:"大港区"},{id:"51050",name:"北辰区"},{id:"51051",name:"宝坻区"},{id:"51052",name:"宁河县"}]},{addressList:[{id:"113",name:"万州区"},{id:"114",name:"涪陵区"},{id:"115",name:"梁平县"},{id:"119",name:"南川区"},{id:"123",name:"潼南县"},{id:"126",name:"大足区"},{id:"128",name:"黔江区"},{id:"129",name:"武隆县"},{id:"130",name:"丰都县"},{id:"131",name:"奉节县"},{id:"132",name:"开县"},{id:"133",name:"云阳县"},{id:"134",name:"忠县"},{id:"135",name:"巫溪县"},{id:"136",name:"巫山县"},{id:"137",name:"石柱县"},{id:"138",name:"彭水县"},{id:"139",name:"垫江县"},{id:"140",name:"酉阳县"},{id:"141",name:"秀山县"},{id:"4164",name:"城口县"},{id:"48131",name:"璧山县"},{id:"48132",name:"荣昌县"},{id:"48133",name:"铜梁县"},{id:"48201",name:"合川区"},{id:"48202",name:"巴南区"},{id:"48203",name:"北碚区"},{id:"48204",name:"江津区"},{id:"48205",name:"渝北区"},{id:"48206",name:"长寿区"},{id:"48207",name:"永川区"},{id:"50950",name:"江北区"},{id:"50951",name:"南岸区"},{id:"50952",name:"九龙坡区"},{id:"50953",name:"沙坪坝区"},{id:"50954",name:"大渡口区"},{id:"50995",name:"綦江区"},{id:"51026",name:"渝中区"},{id:"51027",name:"高新区"},{id:"51028",name:"北部新区"}]},{addressList:[{id:"142",name:"石家庄市"},{id:"148",name:"邯郸市"},{id:"164",name:"邢台市"},{id:"199",name:"保定市"},{id:"224",name:"张家口市"},{id:"239",name:"承德市"},{id:"248",name:"秦皇岛市"},{id:"258",name:"唐山市"},{id:"264",name:"沧州市"},{id:"274",name:"廊坊市"},{id:"275",name:"衡水市"}]},{addressList:[{id:"303",name:"太原市"},{id:"309",name:"大同市"},{id:"318",name:"阳泉市"},{id:"325",name:"晋城市"},{id:"330",name:"朔州市"},{id:"336",name:"晋中市"},{id:"350",name:"忻州市"},{id:"368",name:"吕梁市"},{id:"379",name:"临汾市"},{id:"398",name:"运城市"},{id:"3074",name:"长治市"}]},{addressList:[{id:"412",name:"郑州市"},{id:"420",name:"开封市"},{id:"427",name:"洛阳市"},{id:"438",name:"平顶山市"},{id:"446",name:"焦作市"},{id:"454",name:"鹤壁市"},{id:"458",name:"新乡市"},{id:"468",name:"安阳市"},{id:"475",name:"濮阳市"},{id:"482",name:"许昌市"},{id:"489",name:"漯河市"},{id:"495",name:"三门峡市"},{id:"502",name:"南阳市"},{id:"517",name:"商丘市"},{id:"527",name:"周口市"},{id:"538",name:"驻马店市"},{id:"549",name:"信阳市"},{id:"2780",name:"济源市"}]},{addressList:[{id:"560",name:"沈阳市"},{id:"573",name:"大连市"},{id:"579",name:"鞍山市"},{id:"584",name:"抚顺市"},{id:"589",name:"本溪市"},{id:"593",name:"丹东市"},{id:"598",name:"锦州市"},{id:"604",name:"葫芦岛市"},{id:"609",name:"营口市"},{id:"613",name:"盘锦市"},{id:"617",name:"阜新市"},{id:"621",name:"辽阳市"},{id:"632",name:"朝阳市"},{id:"6858",name:"铁岭市"}]},{addressList:[{id:"639",name:"长春市"},{id:"644",name:"吉林市"},{id:"651",name:"四平市"},{id:"657",name:"通化市"},{id:"664",name:"白山市"},{id:"674",name:"松原市"},{id:"681",name:"白城市"},{id:"687",name:"延边州"},{id:"2992",name:"辽源市"}]},{addressList:[{id:"698",name:"哈尔滨市"},{id:"712",name:"齐齐哈尔市"},{id:"727",name:"鹤岗市"},{id:"731",name:"双鸭山市"},{id:"737",name:"鸡西市"},{id:"742",name:"大庆市"},{id:"753",name:"伊春市"},{id:"757",name:"牡丹江市"},{id:"765",name:"佳木斯市"},{id:"773",name:"七台河市"},{id:"776",name:"黑河市"},{id:"782",name:"绥化市"},{id:"793",name:"大兴安岭地区"}]},{addressList:[{id:"799",name:"呼和浩特市"},{id:"805",name:"包头市"},{id:"810",name:"乌海市"},{id:"812",name:"赤峰市"},{id:"823",name:"乌兰察布市"},{id:"835",name:"锡林郭勒盟"},{id:"848",name:"呼伦贝尔市"},{id:"870",name:"鄂尔多斯市"},{id:"880",name:"巴彦淖尔市"},{id:"891",name:"阿拉善盟"},{id:"895",name:"兴安盟"},{id:"902",name:"通辽市"}]},{addressList:[{id:"904",name:"南京市"},{id:"911",name:"徐州市"},{id:"919",name:"连云港市"},{id:"925",name:"淮安市"},{id:"933",name:"宿迁市"},{id:"939",name:"盐城市"},{id:"951",name:"扬州市"},{id:"959",name:"泰州市"},{id:"965",name:"南通市"},{id:"972",name:"镇江市"},{id:"978",name:"常州市"},{id:"984",name:"无锡市"},{id:"988",name:"苏州市"}]},{addressList:[{id:"1000",name:"济南市"},{id:"1007",name:"青岛市"},{id:"1016",name:"淄博市"},{id:"1022",name:"枣庄市"},{id:"1025",name:"东营市"},{id:"1032",name:"潍坊市"},{id:"1042",name:"烟台市"},{id:"1053",name:"威海市"},{id:"1058",name:"莱芜市"},{id:"1060",name:"德州市"},{id:"1072",name:"临沂市"},{id:"1081",name:"聊城市"},{id:"1090",name:"滨州市"},{id:"1099",name:"菏泽市"},{id:"1108",name:"日照市"},{id:"1112",name:"泰安市"},{id:"2900",name:"济宁市"}]},{addressList:[{id:"1114",name:"铜陵市"},{id:"1116",name:"合肥市"},{id:"1121",name:"淮南市"},{id:"1124",name:"淮北市"},{id:"1127",name:"芜湖市"},{id:"1132",name:"蚌埠市"},{id:"1137",name:"马鞍山市"},{id:"1140",name:"安庆市"},{id:"1151",name:"黄山市"},{id:"1159",name:"滁州市"},{id:"1167",name:"阜阳市"},{id:"1174",name:"亳州市"},{id:"1180",name:"宿州市"},{id:"1201",name:"池州市"},{id:"1206",name:"六安市"},{id:"2971",name:"宣城市"}]},{addressList:[{id:"1158",name:"宁波市"},{id:"1213",name:"杭州市"},{id:"1233",name:"温州市"},{id:"1243",name:"嘉兴市"},{id:"1250",name:"湖州市"},{id:"1255",name:"绍兴市"},{id:"1262",name:"金华市"},{id:"1273",name:"衢州市"},{id:"1280",name:"丽水市"},{id:"1290",name:"台州市"},{id:"1298",name:"舟山市"}]},{addressList:[{id:"1303",name:"福州市"},{id:"1315",name:"厦门市"},{id:"1317",name:"三明市"},{id:"1329",name:"莆田市"},{id:"1332",name:"泉州市"},{id:"1341",name:"漳州市"},{id:"1352",name:"南平市"},{id:"1362",name:"龙岩市"},{id:"1370",name:"宁德市"}]},{addressList:[{id:"1381",name:"武汉市"},{id:"1387",name:"黄石市"},{id:"1396",name:"襄阳市"},{id:"1405",name:"十堰市"},{id:"1413",name:"荆州市"},{id:"1421",name:"宜昌市"},{id:"1432",name:"孝感市"},{id:"1441",name:"黄冈市"},{id:"1458",name:"咸宁市"},{id:"1466",name:"恩施州"},{id:"1475",name:"鄂州市"},{id:"1477",name:"荆门市"},{id:"1479",name:"随州市"},{id:"2922",name:"潜江市"},{id:"2980",name:"天门市"},{id:"2983",name:"仙桃市"},{id:"3154",name:"神农架林区"}]},{addressList:[{id:"1482",name:"长沙市"},{id:"1488",name:"株洲市"},{id:"1495",name:"湘潭市"},{id:"1499",name:"韶山市"},{id:"1501",name:"衡阳市"},{id:"1511",name:"邵阳市"},{id:"1522",name:"岳阳市"},{id:"1530",name:"常德市"},{id:"1540",name:"张家界市"},{id:"1544",name:"郴州市"},{id:"1555",name:"益阳市"},{id:"1560",name:"永州市"},{id:"1574",name:"怀化市"},{id:"1586",name:"娄底市"},{id:"1592",name:"湘西州"}]},{addressList:[{id:"1601",name:"广州市"},{id:"1607",name:"深圳市"},{id:"1609",name:"珠海市"},{id:"1611",name:"汕头市"},{id:"1617",name:"韶关市"},{id:"1627",name:"河源市"},{id:"1634",name:"梅州市"},{id:"1643",name:"惠州市"},{id:"1650",name:"汕尾市"},{id:"1655",name:"东莞市"},{id:"1657",name:"中山市"},{id:"1659",name:"江门市"},{id:"1666",name:"佛山市"},{id:"1672",name:"阳江市"},{id:"1677",name:"湛江市"},{id:"1684",name:"茂名市"},{id:"1690",name:"肇庆市"},{id:"1698",name:"云浮市"},{id:"1704",name:"清远市"},{id:"1705",name:"潮州市"},{id:"1709",name:"揭阳市"}]},{addressList:[{id:"1715",name:"南宁市"},{id:"1720",name:"柳州市"},{id:"1726",name:"桂林市"},{id:"1740",name:"梧州市"},{id:"1746",name:"北海市"},{id:"1749",name:"防城港市"},{id:"1753",name:"钦州市"},{id:"1757",name:"贵港市"},{id:"1761",name:"玉林市"},{id:"1792",name:"贺州市"},{id:"1806",name:"百色市"},{id:"1818",name:"河池市"},{id:"3044",name:"来宾市"},{id:"3168",name:"崇左市"}]},{addressList:[{id:"1827",name:"南昌市"},{id:"1832",name:"景德镇市"},{id:"1836",name:"萍乡市"},{id:"1842",name:"新余市"},{id:"1845",name:"九江市"},{id:"1857",name:"鹰潭市"},{id:"1861",name:"上饶市"},{id:"1874",name:"宜春市"},{id:"1885",name:"抚州市"},{id:"1898",name:"吉安市"},{id:"1911",name:"赣州市"}]},{addressList:[{id:"1930",name:"成都市"},{id:"1946",name:"自贡市"},{id:"1950",name:"攀枝花市"},{id:"1954",name:"泸州市"},{id:"1960",name:"绵阳市"},{id:"1962",name:"德阳市"},{id:"1977",name:"广元市"},{id:"1983",name:"遂宁市"},{id:"1988",name:"内江市"},{id:"1993",name:"乐山市"},{id:"2005",name:"宜宾市"},{id:"2016",name:"广安市"},{id:"2022",name:"南充市"},{id:"2033",name:"达州市"},{id:"2042",name:"巴中市"},{id:"2047",name:"雅安市"},{id:"2058",name:"眉山市"},{id:"2065",name:"资阳市"},{id:"2070",name:"阿坝州"},{id:"2084",name:"甘孜州"},{id:"2103",name:"凉山州"}]},{addressList:[{id:"2121",name:"海口市"},{id:"3034",name:"儋州市"},{id:"3115",name:"琼海市"},{id:"3137",name:"万宁市"},{id:"3173",name:"东方市"},{id:"3690",name:"三亚市"},{id:"3698",name:"文昌市"},{id:"3699",name:"五指山市"},{id:"3701",name:"临高县"},{id:"3702",name:"澄迈县"},{id:"3703",name:"定安县"},{id:"3704",name:"屯昌县"},{id:"3705",name:"昌江县"},{id:"3706",name:"白沙县"},{id:"3707",name:"琼中县"},{id:"3708",name:"陵水县"},{id:"3709",name:"保亭县"},{id:"3710",name:"乐东县"},{id:"3711",name:"三沙市"}]},{addressList:[{id:"2144",name:"贵阳市"},{id:"2150",name:"六盘水市"},{id:"2155",name:"遵义市"},{id:"2169",name:"铜仁市"},{id:"2180",name:"毕节市"},{id:"2189",name:"安顺市"},{id:"2196",name:"黔西南州"},{id:"2205",name:"黔东南州"},{id:"2222",name:"黔南州"}]},{addressList:[{id:"2235",name:"昆明市"},{id:"2247",name:"曲靖市"},{id:"2258",name:"玉溪市"},{id:"2270",name:"昭通市"},{id:"2281",name:"普洱市"},{id:"2291",name:"临沧市"},{id:"2298",name:"保山市"},{id:"2304",name:"丽江市"},{id:"2309",name:"文山州"},{id:"2318",name:"红河州"},{id:"2332",name:"西双版纳州"},{id:"2336",name:"楚雄州"},{id:"2347",name:"大理州"},{id:"2360",name:"德宏州"},{id:"2366",name:"怒江州"},{id:"4108",name:"迪庆州"}]},{addressList:[{id:"2951",name:"拉萨市"},{id:"3107",name:"那曲地区"},{id:"3129",name:"山南地区"},{id:"3138",name:"昌都地区"},{id:"3144",name:"日喀则地区"},{id:"3970",name:"阿里地区"},{id:"3971",name:"林芝地区"}]},{addressList:[{id:"2376",name:"西安市"},{id:"2386",name:"铜川市"},{id:"2390",name:"宝鸡市"},{id:"2402",name:"咸阳市"},{id:"2416",name:"渭南市"},{id:"2428",name:"延安市"},{id:"2442",name:"汉中市"},{id:"2454",name:"榆林市"},{id:"2468",name:"商洛市"},{id:"2476",name:"安康市"}]},{addressList:[{id:"2487",name:"兰州市"},{id:"2492",name:"金昌市"},{id:"2495",name:"白银市"},{id:"2501",name:"天水市"},{id:"2509",name:"嘉峪关市"},{id:"2518",name:"平凉市"},{id:"2525",name:"庆阳市"},{id:"2534",name:"陇南市"},{id:"2544",name:"武威市"},{id:"2549",name:"张掖市"},{id:"2556",name:"酒泉市"},{id:"2564",name:"甘南州"},{id:"2573",name:"临夏州"},{id:"3080",name:"定西市"}]},{addressList:[{id:"2580",name:"西宁市"},{id:"2585",name:"海东地区"},{id:"2592",name:"海北州"},{id:"2597",name:"黄南州"},{id:"2603",name:"海南州"},{id:"2605",name:"果洛州"},{id:"2612",name:"玉树州"},{id:"2620",name:"海西州"}]},{addressList:[{id:"2628",name:"银川市"},{id:"2632",name:"石嘴山市"},{id:"2637",name:"吴忠市"},{id:"2644",name:"固原市"},{id:"3071",name:"中卫市"}]},{addressList:[{id:"2652",name:"乌鲁木齐市"},{id:"2654",name:"克拉玛依市"},{id:"2656",name:"石河子市"},{id:"2658",name:"吐鲁番地区"},{id:"2662",name:"哈密地区"},{id:"2666",name:"和田地区"},{id:"2675",name:"阿克苏地区"},{id:"2686",name:"喀什地区"},{id:"2699",name:"克孜勒苏州"},{id:"2704",name:"巴音郭楞州"},{id:"2714",name:"昌吉州"},{id:"2723",name:"博尔塔拉州"},{id:"2727",name:"伊犁州"},{id:"2736",name:"塔城地区"},{id:"2744",name:"阿勒泰地区"},{id:"4110",name:"五家渠市"},{id:"15945",name:"阿拉尔市"},{id:"15946",name:"图木舒克市"}]},{addressList:[{id:"2768",name:"台湾"}]},{addressList:[{id:"52994",name:"香港特别行政区"},{id:"52995",name:"澳门特别行政区"}]}]},mitemAddrName="";!function(e){var t=e("#isSoldOversea").val(),i=e("#globalConfig").val(),n={action:"getCitys",id:"53283",name:"海外"};"true"==i&&("true"==t?regionLevels.region[0].addressList.unshift(n):regionLevels.region[0].addressList.push(n)),e.fn.generateRegionList=function(t){var i,n,a=e("#btn-select-region"),s=e("#region-back-arrow"),o=!1,r=!1,d=!1,l=0,c={init:function(){i=1,e(".list_content_mask").on("click",function(){c.closeMsk()}),c.setBtnTrigger(),c.setEventToBack()},setBtnTrigger:function(){a.on("click",function(){n=document.body.scrollTop,o=!1,c.showMsk();var t=e(this).attr("region-data");t=t.split(",")[i-1],c.getRegionInfo(i,t);e(".region-wrapper")})},showLoading:function(){e(".loading-mask").show()},hideLoading:function(){e(".loading-mask").hide()},regionUrl:function(i){var n=t.actionURL;return n+="&wareId="+t.wareID,n+="&provinceId="+e("#jdDeliverList1 li.checked").attr("id"),3==i?n+="&cityId="+e("#jdDeliverList2 li.checked").attr("id"):4==i?(n+="&cityId="+e("#jdDeliverList2 li.checked").attr("id"),n+="&countryId="+e("#jdDeliverList3 li.checked").attr("id")):5==i&&(n+="&cityId="+e("#jdDeliverList2 li.checked").attr("id"),n+="&countryId="+e("#jdDeliverList3 li.checked").attr("id"),n+="&townId="+e("#jdDeliverList4 li.checked").attr("id")),n+="&action="+e("#jdDeliverList"+(i-1)+" li.checked").attr("action"),e("#thirdCategoryId").length>0&&e("#thirdCategoryId").val()&&(n+="&thirdCategoryId="+e("#thirdCategoryId").val()),e("#addCartBizName").length>0&&e("#addCartBizName").val()&&(n+="&addCartNodeBizName="+e("#addCartBizName").val()),n},requestData:function(t){var i=e("#currentWareId").val();2==t?pingClickWithLevel("MProductdetail_AbroadFirstAddress","","",i,""):3==t?pingClickWithLevel("MProductdetail_AbroadSecondAddress","","",i,""):4==t&&pingClickWithLevel("MProductdetail_AbroadThirdAddress","","",i,""),e.ajax({dataType:"json",url:c.regionUrl(t),cache:!1,beforeSend:function(){c.showLoading()},success:function(e){var i=e;setTimeout(function(){c.hideLoading(),e&&e.addressList?(c.delEventToLists(t),c.drawRegionList(t,e.addressList)):(3==Number(t)&&c.cleanUL(Number(t)+1),c.getResult(i)),r=!1},300)},error:function(){r=!1,c.hideLoading()}})},getRegionInfo:function(t,i){if(d&&l)this.requestData(t);else if(t>2)e.ajax({dataType:"json",url:c.regionUrl(t),cache:!1,beforeSend:function(){c.showLoading()},success:function(i){var n=i;setTimeout(function(){c.hideLoading(),i&&i.addressList?(c.delEventToLists(t),c.drawRegionList(t,i.addressList)):(3==Number(t)&&c.cleanUL(Number(t)+1),c.getResult(n)),r=!1,i.ware.cartFlag&&i.ware.reasonTips&&(e(".bottom_yellow_line").hide(),e("#bottom_prompt_msg_div").show(),e(".hold-div-bottom").attr("style","display:block"),e("#prompt_msg").text(i.ware.reasonTips))},300)},error:function(){r=!1,c.hideLoading()}});else if(1==t)c.drawRegionList(t,regionLevels.region[0].addressList);else if(2==t)if(i<=32)c.drawRegionList(t,regionLevels.region[i].addressList);else{if(84==i)return;var n=33;42==i?n=33:43==i&&(n=34),c.drawRegionList(t,regionLevels.region[n].addressList)}},drawRegionList:function(i,n){var a=e("#jdDeliverList"+i);a.html("");var s=e("#btn-select-region").attr("region-data");s=s.split(",")[i-1];var o=e("#btn-select-region").attr("usualAddress-data");if(o&&"true"==o&&1==i&&t.initFlag&&e("#pin")&&e("#pin").val()){c.getLiHTML(i,"",n,s,a);var r=t.actionURL;r+="&wareId="+t.wareID+"&action=usualAddress",e.ajax({dataType:"json",url:r,timeout:5e3,cache:!1,success:function(t){var n="",a=e("#btn-select-region").attr("common-data"),s=-1,o=!1;if(t&&t.usualAddressList&&t.usualAddressList.length>0){for(var r=0;r<t.usualAddressList.length;r++){var d=t.usualAddressList;d[r].fullAddress&&"null"!=d[r].fullAddress&&(o||(n+='<li class="address-kind"><span>常用地址</span></li>',o=!0),a&&d[r].id&&a==d[r].id?(s=r,n+='<li class="common-address checked J_ping"   report-eventid="MProductdetail_ShippingAddress"  report-pageparam="'+e("#currentWareId").val()+'"  common_id="'+d[r].id+'" encrypted_fullAddress="'+d[r].encryptedFullAddress+'" data="'+d[r].provinceId+","+d[r].cityId+","+d[r].countyId+","+d[r].townId+'"><i class="tick"></i><span>'+d[r].fullAddress+"</span></li>"):n+='<li class="common-address J_ping"  report-eventid="MProductdetail_ShippingAddress"  report-pageparam="'+e("#currentWareId").val()+'"  common_id="'+d[r].id+'" encrypted_fullAddress="'+d[r].encryptedFullAddress+'" data="'+d[r].provinceId+","+d[r].cityId+","+d[r].countyId+","+d[r].townId+'"><i class="tick"></i><span>'+d[r].fullAddress+"</span></li>")}o&&(n+='<li class="address-kind"><span>选择其他地址</span></li>')}if(-1!=s)for(var l=e("#jdDeliverList"+i).find(".choice-address"),r=0;r<l.length;r++)l.eq(r).removeClass("checked");e("#jdDeliverList1").prepend(n),c.setEventToLists(i,!0),c.switchTo(i)},error:function(){}})}else c.getLiHTML(i,"",n,s,a);t.initFlag=!0},cleanUL:function(t){e("#jdDeliverList"+t).empty()},showMsk:function(){var t=e(window).height();e("html").removeClass("sidebar-back"),e("html").addClass("sidebar-move"),e(".list_content_mask").css("display","block"),e(".sidebar-content").css("display","block"),e(".region-wrapper ul").height(t-45)},closeMsk:function(){e("html").addClass("sidebar-back"),setTimeout(function(){e("html").removeClass("sidebar-back"),e("html").removeClass("sidebar-move")},300),e(".list_content_mask").css("display","none"),e(".sidebar-content").css("display","none"),i=1,l=0,o=!1,setTimeout(function(){window.scrollTo(0,n)},300)},delEventToLists:function(t){e("#jdDeliverList"+t).find(".choice-address").off("click")},setEventToLists:function(i,n){var a=e("#jdDeliverList"+i).find(".choice-address"),s=(e("#jdDeliverList"+i),e(".common-address")),l=i+1,m=function(){for(var e=0;e<a.length;e++)a.eq(e).removeClass("checked")};n||a.on("click",function(t){if(t.stopPropagation(),"53283"==e(this).attr("id")&&1==i?d=!0:"53283"!=e(this).attr("id")&&1==i&&(d=!1),1==i)for(var n=e("#jdDeliverList"+i).find(".common-address"),a=0;a<n.length;a++)n.eq(a).removeClass("checked");m(),e(this).addClass("checked");var s=e("#btn-select-region").attr("region-data");s=s.split(",")[i-1];var r=this.id;r!=s&&(o=!0),c.getRegionInfo(l,r)}),s.on("click",function(){var n=e(this).attr("data"),a=e(this).attr("common_id");m();for(var s=e("#jdDeliverList"+i).find(".common-address"),o=0;o<s.length;o++)s.eq(o).removeClass("checked");e(this).addClass("checked"),mitemAddrName=e(this).text();var d=t.actionURL+"&wareId="+t.wareID,l=encodeURIComponent(e(this).attr("encrypted_fullAddress"));n&&n.indexOf(",")>0&&n.split(",").length>3&&(n.split(",")[3]&&"0"==n.split(",")[3]?d+="&action=getTowns&provinceId="+n.split(",")[0]+"&cityId="+n.split(",")[1]+"&countryId="+n.split(",")[2]+"&townId="+n.split(",")[3]+"&fullAddress="+l:d+="&action=directStock&provinceId="+n.split(",")[0]+"&cityId="+n.split(",")[1]+"&countryId="+n.split(",")[2]+"&townId="+n.split(",")[3]+"&fullAddress="+l),e.ajax({dataType:"json",url:d,cache:!1,beforeSend:function(){c.showLoading()},success:function(t){c.hideLoading(),r=!1,addDateToLocal(n),c.commonAdGetResult(),e("#btn-select-region").attr("region-data",n),e("#btn-select-region").attr("common-data",a),stockRender(t),infoRender(t),headerslider&&headerslider.HeightTimer(),c.closeMsk();var i=new Date;i.setTime(i.getTime()+2592e6),document.cookie="commonAddress="+a+";expires="+i.toGMTString()+";path=/;domain=.m.jd.com",t.ware.cartFlag&&t.ware.reasonTips&&(e(".bottom_yellow_line").hide(),e("#bottom_prompt_msg_div").show(),e(".hold-div-bottom").attr("style","display:block"),e("#prompt_msg").text(t.ware.reasonTips))},error:function(){r=!1,c.hideLoading();for(var t=e("#jdDeliverList1").find(".common-address"),i=0;i<t.length;i++)t.eq(i).removeClass("checked");e(this).addClass("checked")}})})},setEventToBack:function(){s.on("click",function(){if(1==i)c.closeMsk();else{var e=i-1;c.switchTo(e)}})},switchTo:function(t){for(var n=1;n<5;n++)n==t?e("#jdDeliverList"+n).addClass("cur"):e("#jdDeliverList"+n).removeClass("cur");i=t},getResult:function(t){for(var n="",s="",o=1;o<i+1;o++)n+=1===o?e("#jdDeliverList"+o+" .checked").attr("id"):","+e("#jdDeliverList"+o+" .checked").attr("id"),s+=0==e("#jdDeliverList"+o+" .checked").length?"":e("#jdDeliverList"+o+" .checked").html();s+='<i class="icon icon-location"></i>',a.attr("region-data",n),a.find(".address").html(s);try{a.find(".address span").length>=3&&(mitemAddrName+=a.find(".address span")[0].innerHTML+"_"+a.find(".address span")[1].innerHTML+"_"+a.find(".address span")[2].innerHTML)}catch(e){}e("#btn-select-region").attr("common-data",""),addDateToLocal(n),stockRender(t),infoRender(t),headerslider&&headerslider.HeightTimer(),c.closeMsk()},commonAdGetResult:function(){var t="";t+=e("#jdDeliverList1").find(".checked").html(),t+='<i class="icon icon-location"></i>',a.find(".address").html(t)},getLiHTML:function(e,t,i,n,a){for(var s=0;s<i.length;s++)t+="<li",n&&n==i[s].id&&(o||(t+=' class="choice-address checked"')),o&&0==s&&(t+=' class="choice-address checked"'),t+=' class="choice-address" id="'+i[s].id+'" ',"53283"==i[s].id&&0===l?t+=' action="'+i[s].action+'"':d?t+=' action="'+i[s].action+'"':2==e?t+=' action="getCountys"':e>2&&(t+=' action="'+i[s].action+'"'),t+='><i class="tick"></i><a name="region'+i[s].id+'"></a><span>'+i[s].name+"</span></li>";a.append(t),c.setEventToLists(e),c.switchTo(e),l++}};return c.init()}}(Zepto),function(){function e(){this.timer=null,this.lastTime=1500,this.endTime=6e4}var t=function(t,i){return(new e).init(t,i)};e.prototype={init:function(e,t){this.oParent=document.getElementById(e),this.oDiv=document.getElementById(t),this.scale(),this.scale()&&Math.ceil(16/this.scale())>10&&(this.oDiv.style.fontSize=Math.ceil(16/this.scale())+"px"),this.duration()},scale:function(){var e=this.oParent,t=this.oDiv,i=t.offsetWidth,n=t.offsetHeight,a=document.documentElement.clientWidth-20;if(0!=i){var s=a/i,o=t.innerHTML;t.innerHTML="",t.style.WebkitTransformOrigin="0px 0px",t.style.transformOrigin="0px 0px",t.style.WebkitTransform="scale("+s+")",t.style.transform="scale("+s+")",e.style.width=i*s+"px",e.style.height=n*s+"px",e.style.margin="0px 10px 5px",t.innerHTML=o,e.style.overflow="hidden"}return s},SecScale:function(){var e=this.oParent,t=this.oDiv,i=t.offsetWidth,n=t.offsetHeight,a=document.documentElement.clientWidth-20;if(0!=i){var s=a/i;t.style.WebkitTransformOrigin="0px 0px",t.style.transformOrigin="0px 0px",t.style.WebkitTransform="scale("+s+")",t.style.transform="scale("+s+")",e.style.width=i*s+"px",e.style.height=n*s+"px",e.style.margin="0px 10px ",e.style.overflow="hidden"}},duration:function(){var e=this;e.timer=setInterval(function(){e.SecScale()},e.lastTime),setTimeout(function(){clearInterval(e.timer)},e.endTime)}},e.extend=function(e,t){for(name in t)void 0!==t[name]&&(e[name]=t[name])},e.extend(t,{ready:function(e){/complete|loaded|interactive/.test(document.readyState)&&document.body?e():document.addEventListener("DOMContentLoaded",function(){e()},!1)}}),window.scale=t}(),LoadPage.prototype={init:function(e){var t={containId:"body",pointHeight:"600",currentP:1,baseUrl:"",reqPara:"",beforeFn:null,successFn:null,errorFn:null,reLoad:!0,isRepeatReq:!1,pageNo:"offset",isInit:!0,maxHeightFlag:0,checkParam:""};this.settings=$.extend(t,e),this.currentP=t.currentP,this.containId=t.containId,this.objContain=document.querySelector(this.containId),this.objContain.style.height=this.settings.pointHeight+"px",this.objContain.style.overflow="scroll",this.objContain.style.WebkitOverflowScrolling="touch",this.settings.isInit&&this.getData(this.currentP++),this.events()},orientationchangeCb:function(e){this.settings.pointHeight=e,this.objContain.style.height=this.settings.pointHeight+"px"},bindScrollEvts:function(){var e=this;e.objContain.onscroll=function(){var t=$("#loadMoreFlag").val();return e.settings.maxHeightFlag!=this.scrollHeight&&"false"!=t&&(parseInt(e.settings.pointHeight)+parseInt(this.scrollTop)+1>=this.scrollHeight&&!e.settings.isRepeatReq&&(e.settings.maxHeightFlag=this.scrollHeight,e.getData(e.currentP++)),!1)}},events:function(){this.bindScrollEvts(),this.goBack2TopSelf()},goBack2Top:function(){var e=document.querySelector("#indexToTop"),t=(window.navigator.userAgent,{init:function(){t.scrollEvt(),t.toTopEvt()},toTopEvt:function(){e.addEventListener("click",function(){scroll(0,0),e.style.display="none"},!1)},scrollEvt:function(){window.addEventListener("scroll",function(){var t=document.documentElement.clientHeight||document.body.clientHeight,i=document.documentElement.scrollTop||document.body.scrollTop;e.style.display=i>t?"block":"none"},!1)}});return t.init()},goBack2TopSelf:function(){var e=document.querySelector("#indexToTop"),t=$(".download-block-right")[0],i=(window.navigator.userAgent,this),n={init:function(){n.scrollEvt(),n.toTopEvt()},toTopEvt:function(){e.addEventListener("click",function(){i.objContain.scrollTop=0,e.style.display="none",t&&(t.style.bottom="57px")},!1)},scrollEvt:function(){i.objContain.addEventListener("scroll",function(){this.scrollTop>this.clientHeight?(t&&(t.style.bottom="99px"),e.style.display="block"):(e.style.display="none",t&&(t.style.bottom="57px"))},!1)}};return n.init()},getData:function(e,t){this.settings.isRepeatReq||(this.settings.isRepeatReq=!0),this.getSomeData(e)},EncodeUtf8:function(e){var t=escape(e),i=t.split("%"),n="";""!=i[0]&&(n=i[0]);for(var a=1;a<i.length;a++)"u"==i[a].substring(0,1)?n+=Hex2Utf8(Str2Hex(i[a].substring(1,5))):n+="%"+i[a];return n},getSomeData:function(e){var t,i=this,n=i.settings.reqPara;n[i.settings.pageNo]=e,t=i.settings.baseUrl,$.ajax({url:t,type:i.settings.reqType,dataType:"json",data:n,beforeSend:i.settings.beforeFn,success:function(t){i.settings.successFn(t,e),i.settings.reLoad=!1,i.settings.isRepeatReq=!1},error:function(e,t){i.settings.errorFn(),i.settings.isRepeatReq=!1}})}};var PullLoad=function(e,t){var i={trigger:$("body"),elWindow:$(window),maxY:40,lessText:"下拉回到上一页",greaterText:"释放回到上一页",onReload:function(){}},n=$.extend({},i,t||{});if(!e||!e.length)return this;var a=this;a.el=e.css("border-bottom","0 solid transparent"),a.callback={reload:n.onReload};var s=n.elWindow,o=n.maxY,r={};n.trigger.on({touchstart:function(e){var t=e.touches[0]||e;r.posY=t.pageY,r.nowY=r.posY,r.distanceY=0,r.scrollY=s.scrollTop(),r.touching=!0,r.markY=-1},touchmove:function(t){if(!0===r.touching){var i=t.touches[0]||t;r.nowY=i.pageY;var d=r.nowY-r.posY;r.distanceY=d;var l,c;if(0==s.scrollTop()&&((d>0||r.markY>0)&&t.preventDefault(),d>0&&-1==r.markY&&(r.markY=d)),l=d-r.markY,r.markY>0&&1!=e.data("loading")){c=l<0?0:Math.min(l,o);var m=0-c/2+Math.max(0,l-o),u=m;m>0?(u=a.damping(m),e.html(n.greaterText)):e.html(n.lessText),e.css({height:c,borderBottomWidth:u,transition:"none"})}r.rectY=l}},touchend:function(){!0===r.touching&&(r.markY>0&&r.rectY>0&&(r.rectY>=o?(e.data("loading",!0).css({transition:"",borderBottomWidth:0}),n.onReload.call(a)):a.origin()),r.touching=!1)}})};PullLoad.prototype.origin=function(){var e=this;return e.el.css({transition:"",borderBottomWidth:0,height:0}).data("loading",!1),e},PullLoad.prototype.damping=function(e){for(var t=[20,40,60,80,100],i=[.5,.4,.3,.2,.1],n=e,a=t.length;a--;)if(e>t[a]){n=(e-t[a])*i[a];for(var s=a;s>0;s--)n+=(t[s]-t[s-1])*i[s-1];n+=1*t[0];break}return n},function(e){window.Popup=function(e){function t(e){this._default={maskClose:!1,animationTime:500},this.popup=document.querySelector(".x-popup"),this.mask=document.querySelector(".x-mask"),this.init(e)}return t.prototype={init:function(e){this._setting=Object.assign(this._default,e),this._createElement(),this._bindEvent()},_createElement:function(){var e=document.createElement("div"),t=document.createElement("div"),i=document.createElement("div"),n=document.body;e.classList.add("x-popup"),e.style.width=this._setting.width,e.style.height=this._setting.height,i.classList.add("x-popup-content"),e.appendChild(i),t.classList.add("x-mask"),t.style.display="none",n.appendChild(e),n.appendChild(t),this.popup=e,this.mask=t,this.content=i},_bindEvent:function(){var e=this;e._setting.maskClose&&e.mask.addEventListener("click",function(){e.hide("mask")}),e._setting.closeBtn&&(Array.isArray(e._setting.closeBtn)?e._setting.closeBtn.forEach(function(t,i,n){e._on(t,function(){e.hide("closeBtn")})}):e._on(e._setting.closeBtn,function(){e.hide("closeBtn")}))},_on:function(e,t){var i=this,e=e.substr(1,e.length-1);i.popup.addEventListener("click",function(n){var a=n.srcElement?n.srcElement:n.target;!function a(s){Object.is(s,i.popup)||(s.id==e||s.classList.contains(e)?"function"==typeof t&&t(n):a(s.parentNode))}(a)})},addHtml:function(e){this.content.innerHTML=e},show:function(e){var t=this;t.popup.classList.add("x-popup-show"),t.mask.style.display="block",document.body.style.overflow="hidden",setTimeout(function(){t.showCb(e)},t._setting.animationTime)},hide:function(e,t){var i=this;i.popup.classList.add("x-popup-hide"),setTimeout(function(){i.mask.style.display="none",document.body.style.overflow="visible",i.popup.classList.remove("x-popup-show"),i.popup.classList.remove("x-popup-hide"),i.hideCb(e,t)},i._setting.animationTime)},toggle:function(){this.popup.classList.contains("x-popup-show")?this.hide():this.show()},showCb:function(){},hideCb:function(){}},t}()}(),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.template=t():e.template=t()}(this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var i={};return t.m=e,t.c=i,t.d=function(e,i,n){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,i){(function(t){e.exports=!1;try{e.exports="[object process]"===Object.prototype.toString.call(t.process)}catch(e){}}).call(t,i(4))},function(e,t,i){"use strict";var n=i(8),a=i(3),s=i(23),o=function(e,t){t.onerror(e,t);var i=function(){return"{Template Error}"};return i.mappings=[],i.sourcesContent=[],i},r=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"!=typeof t?i=t:i.source=t,i=a.$extend(i),t=i.source,!0===i.debug&&(i.cache=!1,i.minimize=!1,i.compileDebug=!0),i.compileDebug&&(i.minimize=!1),i.filename&&(i.filename=i.resolveFilename(i.filename,i))
;var r=i.filename,d=i.cache,l=i.caches;if(d&&r){var c=l.get(r);if(c)return c}if(!t)try{t=i.loader(r,i),i.source=t}catch(e){var m=new s({name:"CompileError",path:r,message:"template not found: "+e.message,stack:e.stack});if(i.bail)throw m;return o(m,i)}var u=void 0,h=new n(i);try{u=h.build()}catch(m){if(m=new s(m),i.bail)throw m;return o(m,i)}var f=function(t,n){try{return u(t,n)}catch(a){if(!i.compileDebug)return i.cache=!1,i.compileDebug=!0,e(i)(t,n);if(a=new s(a),i.bail)throw a;return o(a,i)()}};return f.mappings=u.mappings,f.sourcesContent=u.sourcesContent,f.toString=function(){return u.toString()},d&&r&&l.set(r,f),f};r.Compiler=n,e.exports=r},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=/((['"])(?:(?!\2|\\).|\\(?:\r\n|[\s\S]))*(\2)?|`(?:[^`\\$]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{[^}]*\}?)*\}?)*(`)?)|(\/\/.*)|(\/\*(?:[^*]|\*(?!\/))*(\*\/)?)|(\/(?!\*)(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\]\\]).|\\.)+\/(?:(?!\s*(?:\b|[\u0080-\uFFFF$\\'"~({]|[+\-!](?!=)|\.?\d))|[gmiyu]{1,5}\b(?![\u0080-\uFFFF$\\]|\s*(?:[+\-*%&|^<>!=?({]|\/(?![\/*])))))|(0[xX][\da-fA-F]+|0[oO][0-7]+|0[bB][01]+|(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?)|((?!\d)(?:(?!\s)[$\w\u0080-\uFFFF]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+)|(--|\+\+|&&|\|\||=>|\.{3}|(?:[+\-\/%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2})=?|[?~.,:;[\](){}])|(\s+)|(^$|[\s\S])/g,t.matchToToken=function(e){var t={type:"invalid",value:e[0]};return e[1]?(t.type="string",t.closed=!(!e[3]&&!e[4])):e[5]?t.type="comment":e[6]?(t.type="comment",t.closed=!!e[7]):e[8]?t.type="regex":e[9]?t.type="number":e[10]?t.type="name":e[11]?t.type="punctuator":e[12]&&(t.type="whitespace"),t}},function(e,t,i){"use strict";function n(){this.$extend=function(e){return e=e||{},o(e,e instanceof n?e:this)}}var a=i(0),s=i(12),o=i(13),r=i(14),d=i(15),l=i(16),c=i(17),m=i(18),u=i(19),h=i(20),f=i(22),p={source:null,filename:null,rules:[u,m],escape:!0,debug:!!a&&"production"!==process.env.NODE_ENV,bail:!0,cache:!0,minimize:!0,compileDebug:!1,resolveFilename:f,include:r,htmlMinifier:h,htmlMinifierOptions:{collapseWhitespace:!0,minifyCSS:!0,minifyJS:!0,ignoreCustomFragments:[]},onerror:d,loader:c,caches:l,root:"/",extname:".art",ignore:[],imports:s};n.prototype=p,e.exports=new n},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t){},function(e,t,i){"use strict";var n=i(7),a=i(1),s=i(24),o=function(e,t){return t instanceof Object?n({filename:e},t):a({filename:e,source:t})};o.render=n,o.compile=a,o.defaults=s,e.exports=o},function(e,t,i){"use strict";var n=i(1),a=function(e,t,i){return n(e,i)(t)};e.exports=a},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=i(9),s=i(11),o="$data",r="$imports",d="print",l="include",c="extend",m="block",u="$$out",h="$$line",f="$$blocks",p="$$slice",g="$$from",v="$$options",y=function(e,t){return e.hasOwnProperty(t)},b=JSON.stringify,x=function(){function e(t){var i,a,y=this;n(this,e);var b=t.source,x=t.minimize,w=t.htmlMinifier;if(this.options=t,this.stacks=[],this.context=[],this.scripts=[],this.CONTEXT_MAP={},this.ignore=[o,r,v].concat(t.ignore),this.internal=(i={},i[u]="''",i[h]="[0,0]",i[f]="arguments[1]||{}",i[g]="null",i[d]="function(){var s=''.concat.apply('',arguments);"+u+"+=s;return s}",i[l]="function(src,data){var s="+v+".include(src,data||"+o+",arguments[2]||"+f+","+v+");"+u+"+=s;return s}",i[c]="function(from){"+g+"=from}",i[p]="function(c,p,s){p="+u+";"+u+"='';c();s="+u+";"+u+"=p+s;return s}",i[m]="function(){var a=arguments,s;if(typeof a[0]==='function'){return "+p+"(a[0])}else if("+g+"){"+f+"[a[0]]="+p+"(a[1])}else{s="+f+"[a[0]];if(typeof s==='string'){"+u+"+=s}else{s="+p+"(a[1])}return s}}",i),this.dependencies=(a={},a[d]=[u],a[l]=[u,v,o,f],a[c]=[g,l],a[m]=[p,g,u,f],a),this.importContext(u),t.compileDebug&&this.importContext(h),x)try{b=w(b,t)}catch(e){}this.source=b,this.getTplTokens(b,t.rules,this).forEach(function(e){e.type===s.TYPE_STRING?y.parseString(e):y.parseExpression(e)})}return e.prototype.getTplTokens=function(){return s.apply(void 0,arguments)},e.prototype.getEsTokens=function(e){return a(e)},e.prototype.getVariables=function(e){var t=!1;return e.filter(function(e){return"whitespace"!==e.type&&"comment"!==e.type}).filter(function(e){return"name"===e.type&&!t||(t="punctuator"===e.type&&"."===e.value,!1)}).map(function(e){return e.value})},e.prototype.importContext=function(e){var t=this,i="",n=this.internal,a=this.dependencies,s=this.ignore,d=this.context,l=this.options,c=l.imports,m=this.CONTEXT_MAP;y(m,e)||-1!==s.indexOf(e)||(y(n,e)?(i=n[e],y(a,e)&&a[e].forEach(function(e){return t.importContext(e)})):i="$escape"===e||"$each"===e||y(c,e)?r+"."+e:o+"."+e,m[e]=i,d.push({name:e,value:i}))},e.prototype.parseString=function(e){var t=e.value;if(t){var i=u+"+="+b(t);this.scripts.push({source:t,tplToken:e,code:i})}},e.prototype.parseExpression=function(e){var t=this,i=e.value,n=e.script,a=n.output,o=this.options.escape,r=n.code;a&&(r=!1===o||a===s.TYPE_RAW?u+"+="+n.code:u+"+=$escape("+n.code+")");var d=this.getEsTokens(r);this.getVariables(d).forEach(function(e){return t.importContext(e)}),this.scripts.push({source:i,tplToken:e,code:r})},e.prototype.checkExpression=function(e){for(var t=[[/^\s*}[\w\W]*?{?[\s;]*$/,""],[/(^[\w\W]*?\([\w\W]*?(?:=>|\([\w\W]*?\))\s*{[\s;]*$)/,"$1})"],[/(^[\w\W]*?\([\w\W]*?\)\s*{[\s;]*$)/,"$1}"]],i=0;i<t.length;){if(t[i][0].test(e)){var n;e=(n=e).replace.apply(n,t[i]);break}i++}try{return new Function(e),!0}catch(e){return!1}},e.prototype.build=function(){var e=this.options,t=this.context,i=this.scripts,n=this.stacks,a=this.source,d=e.filename,m=e.imports,p=[],x=y(this.CONTEXT_MAP,c),w=0,T=function(e,t){var i=t.line,a=t.start,s={generated:{line:n.length+w+1,column:1},original:{line:i+1,column:a+1}};return w+=e.split(/\n/).length-1,s},S=function(e){return e.replace(/^[\t ]+|[\t ]$/g,"")};n.push("function("+o+"){"),n.push("'use strict'"),n.push(o+"="+o+"||{}"),n.push("var "+t.map(function(e){return e.name+"="+e.value}).join(",")),e.compileDebug?(n.push("try{"),i.forEach(function(e){e.tplToken.type===s.TYPE_EXPRESSION&&n.push(h+"=["+[e.tplToken.line,e.tplToken.start].join(",")+"]"),p.push(T(e.code,e.tplToken)),n.push(S(e.code))}),n.push("}catch(error){"),n.push("throw {"+["name:'RuntimeError'","path:"+b(d),"message:error.message","line:"+h+"[0]+1","column:"+h+"[1]+1","source:"+b(a),"stack:error.stack"].join(",")+"}"),n.push("}")):i.forEach(function(e){p.push(T(e.code,e.tplToken)),n.push(S(e.code))}),x&&(n.push(u+"=''"),n.push(l+"("+g+","+o+","+f+")")),n.push("return "+u),n.push("}");var k=n.join("\n");try{var H=new Function(r,v,"return "+k)(m,e);return H.mappings=p,H.sourcesContent=[a],H}catch(e){for(var I=0,L=0,D=0,E=void 0;I<i.length;){var M=i[I];if(!this.checkExpression(M.code)){L=M.tplToken.line,D=M.tplToken.start,E=M.code;break}I++}throw{name:"CompileError",path:d,message:e.message,line:L+1,column:D+1,source:a,generated:E,stack:e.stack}}},e}();x.CONSTS={DATA:o,IMPORTS:r,PRINT:d,INCLUDE:l,EXTEND:c,BLOCK:m,OPTIONS:v,OUT:u,LINE:h,BLOCKS:f,SLICE:p,FROM:g,ESCAPE:"$escape",EACH:"$each"},e.exports=x},function(e,t,i){"use strict";var n=i(10),a=i(2).default,s=i(2).matchToToken,o=function(e){return e.match(a).map(function(e){return a.lastIndex=0,s(a.exec(e))}).map(function(e){return"name"===e.type&&n(e.value)&&(e.type="keyword"),e})};e.exports=o},function(e,t,i){"use strict";var n={abstract:!0,await:!0,boolean:!0,break:!0,byte:!0,case:!0,catch:!0,char:!0,class:!0,const:!0,continue:!0,debugger:!0,default:!0,delete:!0,do:!0,double:!0,else:!0,enum:!0,export:!0,extends:!0,false:!0,final:!0,finally:!0,float:!0,for:!0,function:!0,goto:!0,if:!0,implements:!0,import:!0,in:!0,instanceof:!0,int:!0,interface:!0,let:!0,long:!0,native:!0,new:!0,null:!0,package:!0,private:!0,protected:!0,public:!0,return:!0,short:!0,static:!0,super:!0,switch:!0,synchronized:!0,this:!0,throw:!0,transient:!0,true:!0,try:!0,typeof:!0,var:!0,void:!0,volatile:!0,while:!0,with:!0,yield:!0};e.exports=function(e){return n.hasOwnProperty(e)}},function(e,t,i){"use strict";function n(e,t,i,n){var a=new String(e);return a.line=t,a.start=i,a.end=n,a}var a=function(e,t){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[{type:"string",value:e,line:0,start:0,end:e.length}],s=0;s<t.length;s++)!function(e){for(var t=e.test.ignoreCase?"ig":"g",s=e.test.source+"|^$|[\\w\\W]",o=new RegExp(s,t),r=0;r<a.length;r++)if("string"===a[r].type){for(var d=a[r].line,l=a[r].start,c=a[r].end,m=a[r].value.match(o),u=[],h=0;h<m.length;h++){var f=m[h];e.test.lastIndex=0;var p=e.test.exec(f),g=p?"expression":"string",v=u[u.length-1],y=v||a[r],b=y.value;l=y.line===d?v?v.end:l:b.length-b.lastIndexOf("\n")-1,c=l+f.length;var x={type:g,value:f,line:d,start:l,end:c};if("string"===g)v&&"string"===v.type?(v.value+=f,v.end+=f.length):u.push(x);else{p[0]=new n(p[0],d,l,c);var w=e.use.apply(i,p);x.script=w,u.push(x)}d+=f.split(/\n/).length-1}a.splice.apply(a,[r,1].concat(u)),r+=u.length-1}}(t[s]);return a};a.TYPE_STRING="string",a.TYPE_EXPRESSION="expression",a.TYPE_RAW="raw",a.TYPE_ESCAPE="escape",e.exports=a},function(e,t,i){"use strict";(function(t){function n(e){return"string"!=typeof e&&(e=void 0===e||null===e?"":"function"==typeof e?n(e.call(e)):JSON.stringify(e)),e}function a(e){var t=""+e,i=r.exec(t);if(!i)return e;var n="",a=void 0,s=void 0,o=void 0;for(a=i.index,s=0;a<t.length;a++){switch(t.charCodeAt(a)){case 34:o="&#34;";break;case 38:o="&#38;";break;case 39:o="&#39;";break;case 60:o="&#60;";break;case 62:o="&#62;";break;default:continue}s!==a&&(n+=t.substring(s,a)),s=a+1,n+=o}return s!==a?n+t.substring(s,a):n}var s=i(0),o=Object.create(s?t:window),r=/["&'<>]/;o.$escape=function(e){return a(n(e))},o.$each=function(e,t){if(Array.isArray(e))for(var i=0,n=e.length;i<n;i++)t(e[i],i);else for(var a in e)t(e[a],a)},e.exports=o}).call(t,i(4))},function(e,t,i){"use strict";var n=Object.prototype.toString,a=function(e){return null===e?"Null":n.call(e).slice(8,-1)},s=function e(t,i){var n=void 0,s=a(t);if("Object"===s?n=Object.create(i||{}):"Array"===s&&(n=[].concat(i||[])),n){for(var o in t)t.hasOwnProperty(o)&&(n[o]=e(t[o],n[o]));return n}return t};e.exports=s},function(e,t,i){"use strict";var n=function(e,t,n,a){var s=i(1);return a=a.$extend({filename:a.resolveFilename(e,a),bail:!0,source:null}),s(a)(t,n)};e.exports=n},function(e,t,i){"use strict";var n=function(e){console.error(e.name,e.message)};e.exports=n},function(e,t,i){"use strict";var n={__data:Object.create(null),set:function(e,t){this.__data[e]=t},get:function(e){return this.__data[e]},reset:function(){this.__data={}}};e.exports=n},function(e,t,i){"use strict";var n=i(0),a=function(e){if(n)return i(5).readFileSync(e,"utf8");var t=document.getElementById(e);return t.value||t.innerHTML};e.exports=a},function(e,t,i){"use strict";var n={test:/{{([@#]?)[ \t]*(\/?)([\w\W]*?)[ \t]*}}/,use:function(e,t,i,a){var s=this,o=s.options,r=s.getEsTokens(a),d=r.map(function(e){return e.value}),l={},c=void 0,m=!!t&&"raw",u=i+d.shift(),h=function(t,i){console.warn((o.filename||"anonymous")+":"+(e.line+1)+":"+(e.start+1)+"\nTemplate upgrade: {{"+t+"}} -> {{"+i+"}}")};switch("#"===t&&h("#value","@value"),u){case"set":a="var "+d.join("").trim();break;case"if":a="if("+d.join("").trim()+"){";break;case"else":var f=d.indexOf("if");~f?(d.splice(0,f+1),a="}else if("+d.join("").trim()+"){"):a="}else{";break;case"/if":a="}";break;case"each":c=n._split(r),c.shift(),"as"===c[1]&&(h("each object as value index","each object value index"),c.splice(1,1)),a="$each("+(c[0]||"$data")+",function("+(c[1]||"$value")+","+(c[2]||"$index")+"){";break;case"/each":a="})";break;case"block":c=n._split(r),c.shift(),a="block("+c.join(",").trim()+",function(){";break;case"/block":a="})";break;case"echo":u="print",h("echo value","value");case"print":case"include":case"extend":if(0!==d.join("").trim().indexOf("(")){c=n._split(r),c.shift(),a=u+"("+c.join(",")+")";break}default:if(~d.indexOf("|")){var p=r.reduce(function(e,t){var i=t.value,n=t.type;return"|"===i?e.push([]):"whitespace"!==n&&"comment"!==n&&(e.length||e.push([]),":"===i&&1===e[e.length-1].length?h("value | filter: argv","value | filter argv"):e[e.length-1].push(t)),e},[]).map(function(e){return n._split(e)});a=p.reduce(function(e,t){var i=t.shift();return t.unshift(e),"$imports."+i+"("+t.join(",")+")"},p.shift().join(" ").trim())}m=m||"escape"}return l.code=a,l.output=m,l},_split:function(e){e=e.filter(function(e){var t=e.type;return"whitespace"!==t&&"comment"!==t});for(var t=0,i=e.shift(),n=/\]|\)/,a=[[i]];t<e.length;){var s=e[t];"punctuator"===s.type||"punctuator"===i.type&&!n.test(i.value)?a[a.length-1].push(s):a.push([s]),i=s,t++}return a.map(function(e){return e.map(function(e){return e.value}).join("")})}};e.exports=n},function(e,t,i){"use strict";var n={test:/<%(#?)((?:==|=#|[=-])?)[ \t]*([\w\W]*?)[ \t]*(-?)%>/,use:function(e,t,i,n){return i={"-":"raw","=":"escape","":!1,"==":"raw","=#":"raw"}[i],t&&(n="/*"+n+"*/",i=!1),{code:n,output:i}}};e.exports=n},function(e,t,i){"use strict";var n=i(0),a=function(e,t){if(n){var a,s=i(21).minify,o=t.htmlMinifierOptions,r=t.rules.map(function(e){return e.test});(a=o.ignoreCustomFragments).push.apply(a,r),e=s(e,o)}return e};e.exports=a},function(e,t){!function(e){e.noop=function(){}}("object"==typeof e&&"object"==typeof e.exports?e.exports:window)},function(e,t,i){"use strict";var n=i(0),a=/^\.+\//,s=function(e,t){if(n){var s=i(5),o=t.root,r=t.extname;if(a.test(e)){var d=t.filename,l=!d||e===d,c=l?o:s.dirname(d);e=s.resolve(c,e)}else e=s.resolve(o,e);s.extname(e)||(e+=r)}return e};e.exports=s},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){var t=e.name,i=e.source,n=e.path,a=e.line,s=e.column,o=e.generated,r=e.message;if(!i)return r;var d=i.split(/\n/),l=Math.max(a-3,0),c=Math.min(d.length,a+3),m=d.slice(l,c).map(function(e,t){var i=t+l+1;return(i===a?" >> ":"    ")+i+"| "+e}).join("\n");return(n||"anonymous")+":"+a+":"+s+"\n"+m+"\n\n"+t+": "+r+(o?"\n   generated: "+o:"")}var r=function(e){function t(i){n(this,t);var s=a(this,e.call(this,i.message));return s.name="TemplateError",s.message=o(i),Error.captureStackTrace&&Error.captureStackTrace(s,s.constructor),s}return s(t,e),t}(Error);e.exports=r},function(e,t,i){"use strict";e.exports=i(3)}])});